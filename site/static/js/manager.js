webpackJsonp([0],[,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(8),i=a.n(n);e.a={saveFile:function(t){return i.a.post("/profile/savefile",t)},disableRule:function(){return i.a.post("/profile/setRuleState")},enableRule:function(){return i.a.post("/profile/setRuleState?rulestate=1")},disableHost:function(){return i.a.post("/profile/setHostState")},enableHost:function(){return i.a.post("/profile/setHostState?hoststate=1")},disableFilter:function(){return i.a.post("/profile/setFilterState")},enableFilter:function(){return i.a.post("/profile/setFilterState?filterstate=1")},getUserId:function(){return i.a.get("/profile/getUserId")},getUserInfo:function(){return i.a.get("/profile/getUserInfo")},setUserId:function(t){return i.a.get("/profile/setUserId?userId="+t)},unBind:function(t){return i.a.get("/profile/device/unbind?deviceId="+t)},setDeviceName:function(t,e){return i.a.get("/profile/device/setName?deviceId="+t+"&name="+encodeURI(e))},disableMonitor:function(t){return i.a.get("/profile/device/disableMonitor?deviceId="+t)},deviceUseHost:function(t,e){return i.a.get("/profile/device/usehost?deviceId="+t+"&hostname="+encodeURI(e))},enableMonitor:function(t){return i.a.get("/profile/device/enableMonitor?deviceId="+t)}}},,,,,function(t,e){},,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(8),i=a.n(n),o=a(5),l=a.n(o),s={createFile:function(t,e){return i.a.post("/host/create",{name:t,description:e})},getFileList:function(){return i.a.get("/host/filelist")},deleteFile:function(t){return i.a.get("/host/deletefile?name="+t)},useFile:function(t){return i.a.get("/host/usefile?name="+t)},getFileContent:function(t){return i.a.get("/host/getfile?name="+t)},saveFile:function(t,e){return i.a.post("/host/savefile?name="+t,e)}};s.debouncedUseFile=l.a.debounce(function(t,e){s.useFile(t).then(function(t){e(t)})},500),e.a=s},function(t,e,a){"use strict";var n=a(122),i=a.n(n),o=a(8),l=a.n(o),s=a(5),r=a.n(s),c={createFile:function(t,e){return l.a.post("/rule/create",{name:t,description:e})},getFileList:function(){return l.a.get("/rule/filelist")},deleteFile:function(t){return l.a.get("/rule/deletefile?name="+t)},setFileCheckStatus:function(t,e){return l.a.get("/rule/setfilecheckstatus?name="+t+"&checked="+(e?1:0))},getFileContent:function(t){return l.a.get("/rule/getfile?name="+t)},saveFile:function(t,e){return l.a.post("/rule/savefile?name="+t,e)},testRule:function(t){return l.a.post("/rule/test",t)},getRemoteRuleFile:function(t){return l.a.get("/utils/getGitlabFile?url="+encodeURIComponent(t))},getReferenceVar:function(t){for(var e,a=i()(t),n=RegExp("<%=(.+?)%>","g"),o={};null!=(e=n.exec(a));)o[r.a.trim(e[1])]=1;return r.a.keys(o)}};c.debouncedSaveFile=r.a.debounce(function(t,e,a){c.saveFile(t,e).then(function(t){a(t)})},3e3),e.a=c},,,,,,,,,,function(t,e,a){"use strict";var n=a(8),i=a.n(n),o=a(35),l=a.n(o);e.a={getDataList:function(){return i.a.get("/data/getdatalist")},saveDataList:function(t){return i.a.post("/data/savedatalist",t)},getDataFile:function(t){return i.a.get("/data/getdatafile?id="+t)},saveDataFile:function(t,e){var a=new FormData;return a.append("content",e),i.a.post("/data/savedatafile?id="+t,a)},saveDataEntryFromTraffic:function(t,e,a){return i.a.post("/data/savedatafromtraffic",{id:l()(),name:e,contenttype:a,reqid:t})}}},function(t,e,a){"use strict";var n=a(8),i=a.n(n),o={getRemoteRuleFile:function(t){return i.a.get("/utils/getGitlabFile?url="+encodeURIComponent(t))},getGatewayMachine:function(){return i.a.get("/utils/gateway/get-machine")},getConfigInfo:function(t){return i.a.get("/utils/gateway/config?deviceId="+t)},setGateWay:function(t,e){return i.a.post("/utils/gateway/set?deviceId="+t,e)}};e.a=o},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(122),i=a.n(n),o=a(12),l=a.n(o),s=a(11),r=a.n(s),c=a(359),u=a(358),d=a(36),p=a(37),m=(a(119),a(14)),f=a(1),v=a(149),h=a.n(v),b=a(5),g=a.n(b),y=a(47),_=a(35),x=a.n(_),k=a(25),F=a.n(k),w=a(299),$=(a.n(w),a(217)),R=(a.n($),a(298)),C=(a.n(R),a(125)),S=(a.n(C),a(219)),D=(a.n(S),null);f.default.component(c.a.name,c.a),f.default.component(u.a.name,u.a),e.a={name:"app",data:function(){return{isDataCenter:!0,userId:"guest",appInfo:{},configure:{},profile:{projectPath:[],enableRule:!1},projectPathArray:[],bindedDeviceList:[],rule:[],hostFileList:[],ruleFileList:[],filters:[],dataList:[],addDataFileForm:{visible:!1,callback:null,id:"",name:"",contenttype:""},editDataFileForm:{visible:!1,entry:{},content:""}}},computed:{ruleState:function(){return this.profile.enableRule||!1},hostState:function(){return this.profile.enableHost||!1},filterState:function(){return this.profile.enableFilter||!1}},methods:{switchHost:function(t){var e=this;return r()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.profile.enableHost){t.next=5;break}return t.next=3,m.a.disableHost();case 3:t.next=7;break;case 5:return t.next=7,m.a.enableHost();case 7:case"end":return t.stop()}},t,e)}))()},selectHostFile:function(t){var e=this;return r()(l.a.mark(function a(){var n;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=t,d.a.debouncedUseFile(n,function(t){var a=t.data;0==a.code?e.$message({showClose:!0,type:"success",message:"设置成功!"}):e.$message.error("出错了,请刷新页面，"+a.msg)});case 2:case"end":return a.stop()}},a,e)}))()},switchFilter:function(t){var e=this;return r()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.profile.enableFilter?m.a.disableFilter():m.a.enableFilter();case 1:case"end":return t.stop()}},t,e)}))()},switchRule:function(t){var e=this;return r()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.profile.enableRule?m.a.disableRule():m.a.enableRule();case 1:case"end":return t.stop()}},t,e)}))()},selectRuleFile:function(t){var e=this,a=t.split("-%-");p.a.setFileCheckStatus(a[0],"false"==a[1]).then(function(t){var a=t.data;0!=a.code&&e.$message.error("出错了，"+a.msg)})},deleteDataFile:function(t,e){var a=this;this.$confirm("此操作将永久删除该数据文件: "+t.name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.dataList.splice(e,1),y.a.saveDataList(a.dataList).then(function(t){var e=t.data;0==e.code?a.$message({showClose:!0,type:"success",message:"删除成功!"}):a.$message.error("出错了，"+e.msg)})})},requestAddDataFile:function(t){this.addDataFileForm.callback=t,this.addDataFileForm.visible=!0},addDataFile:function(){var t=this;this.addDataFileForm.visible=!1;var e=x()();this.dataList.push({id:e,name:this.addDataFileForm.name,contenttype:this.addDataFileForm.contenttype}),y.a.saveDataList(this.dataList).then(function(a){var n=a.data;0==n.code?(t.$message({showClose:!0,type:"success",message:"新建成功!"}),t.addDataFileForm.name="",t.addDataFileForm.contenttype="",t.addDataFileForm.callback&&t.addDataFileForm.callback(e),t.addDataFileForm.callback=null):t.$message.error("出错了，"+n.msg)})},toggleFullScreen:function(){D.getOption("fullScreen")?h()("#content-editor").parents(".el-dialog").css("transform",""):h()("#content-editor").parents(".el-dialog").css("transform","initial"),D.setOption("fullScreen",!D.getOption("fullScreen")),D.focus()},closeFullScreen:function(){D.getOption("fullScreen")&&(D.setOption("fullScreen",!1),h()("#content-editor").parents(".el-dialog").css("transform",""),D.focus())},formatEditor:function(){try{if(!/json/i.test(this.editDataFileForm.entry.contenttype))return;var t=D.getValue(),e=i()(JSON.parse(t),null,4);D.setValue(e),D.refresh(),D.focus()}catch(t){}},requestEditDataFile:function(t){var e=this;this.editDataFileForm.entry=t,y.a.getDataFile(t.id).then(function(a){var n=a.data;if(0!=n.code)return void e.$message.error("出错了，"+n.msg);e.editDataFileForm.visible=!0,D?(D.setValue(n.data),D.setOption("mode",t.contenttype),e.$nextTick(function(){D.refresh(),D.focus()})):e.$nextTick(function(){window.$=h.a,window.editor=D=new F.a(document.getElementById("content-editor"),{value:n.data,mode:t.contenttype,lineNumbers:!0,matchBrackets:!0,autofocus:!0,extraKeys:{F11:function(t){e.toggleFullScreen()},Esc:function(t){e.closeFullScreen()}}})})})},finishEditDataFile:function(){var t=this,e=this.editDataFileForm.entry;y.a.saveDataFile(e.id,D.getValue()).then(function(e){var a=e.data;0==a.code?(t.$message({showClose:!0,type:"success",message:"保存成功!"}),t.editDataFileForm.entry={},t.editDataFileForm.visible=!1,D.setValue("")):t.$message.error("出错了，"+a.msg)})}},created:function(){var t=this;return r()(l.a.mark(function e(){var a,n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.getUserId();case 2:if(a=e.sent,t.userId=a.data.data.userId,window.io){e.next=6;break}return e.abrupt("return");case 6:n=io("/manager"),n.on("configure",function(e){t.configure=e}),n.on("appinfo",function(e){t.appInfo=e}),n.on("profile",function(e){t.profile=e;var a=[];g.a.forEach(e.projectPath,function(t,e){a.push({key:e,value:t})}),t.projectPathArray=a}),n.on("bindedDeviceList",function(e){t.bindedDeviceList=e}),n.on("hostfilelist",function(e){t.hostFileList=e}),n.on("rulefilelist",function(e){t.ruleFileList=e}),n.on("filters",function(e){t.filters=e}),n.on("datalist",function(e){t.dataList=e});case 15:case"end":return e.stop()}},e,t)}))()},mounted:function(){this.$refs.editDataFileDialog.rendered=!0}}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(300),r=(a.n(s),a(14));e.a={name:"ManagerHeader",methods:{changeUser:function(){var t=this;this.$prompt("请输入用户名(不输入内容将会使用本机ip作为用户名)","切换用户",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var e=l()(i.a.mark(function e(a){var n,o,l=a.value;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.setUserId(l||"");case 2:n=e.sent,o=n.data.data.userId,t.$dc.userId=o,location.reload();case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}()).catch(function(){})}}}},function(t,e,a){"use strict";var n=a(301);a.n(n);e.a={name:"left-menu",data:function(){return{}},computed:{menuList:function(){var t=[{name:"使用说明",icon:"icon-search",link:"helpinstall"}];return"root"==this.$dc.userId&&(t=t.concat([{name:"基础配置",icon:"icon-set",link:"configure"},{name:"工程路径配置",icon:"icon-layers",link:"projectpath"}])),t=t.concat([{name:"Host 管理",icon:"icon-box",link:"hostfilelist"},{name:"Http 过滤器",icon:"icon-beaker",link:"filter"},{name:"Http 转发",icon:"icon-skip",link:"rulefilelist"},{name:"自定义 mock 数据",icon:"icon-suoding",link:"datalist"},{name:"设备管理",icon:"icon-bargraph",link:"device"},{name:"Socks5配置",icon:"icon-set",link:"socks5"}])},defaultActive:function t(){var e=location,a=e.hash,t="0";return this.menuList.forEach(function(e,n){a.indexOf(e.link)!==-1&&(console.log(e,n),t=n+"")}),t}},methods:{handleSelect:function(t,e){var a={};if(2==e.length){var n=e[1].split("-");a=this.menuList[n[0]].children[n[1]]}else a=this.menuList[parseInt(t)];a.targetBlank?window.open(a.link):this.$router.push(a.link)}}}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(119),r=a(70);a.n(r);e.a={name:"configure",computed:{socksProxyExample:function(){return"#示例\n0.0.0.0    # 任何80 443端口的请求经过socks5时都会被解析\n4.4.4.4    # 没有0.0.0.0的情况下，socks5代理中只有4.4.4.4的80、443端口的请求被解析"}},methods:{saveFile:function(){var t=this;return l()(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$dc.configure.requestTimeoutTime=parseInt(t.$dc.configure.requestTimeoutTime),t.$dc.configure.proxyPort=parseInt(t.$dc.configure.proxyPort),t.$dc.configure.socks5Port=parseInt(t.$dc.configure.socks5Port),e.next=5,s.a.saveFile(t.$dc.configure);case 5:a=e.sent,n=a.data,0==n.code?t.$message({showClose:!0,type:"success",message:"保存成功!"}):t.$message.error("出错了，"+n.msg);case 8:case"end":return e.stop()}},e,t)}))()}}}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(14),r=a(302),c=(a.n(r),a(70)),u=a.n(c);e.a={name:"project-path",methods:{deleteParam:function(t,e,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$dc.projectPathArray.splice(e,1)})},saveFile:function(){var t=this;return l()(i.a.mark(function e(){var a,n,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={},u()(t.$dc.projectPathArray,function(t){a[t.key]=t.value}),t.$dc.profile.projectPath=a,e.next=5,s.a.saveFile(t.$dc.profile);case 5:n=e.sent,o=n.data,0==o.code?t.$message({showClose:!0,type:"success",message:"保存成功!"}):t.$message.error("出错了，"+o.msg);case 8:case"end":return e.stop()}},e,t)}))()},addParam:function(){this.$dc.projectPathArray.push({key:"",value:""})}}}},function(t,e,a){"use strict";var n=a(5);a.n(n);e.a={name:"mockdatalist"}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(72),r=a.n(s),c=a(49),u=a.n(c),d=a(14),p=a(303);a.n(p);e.a={name:"DeviceList",methods:{copyBindUrl:function(){u()(this.bindUrl),this.$message("已将设备绑定链接复制到剪切板，在设备中打开此url即可绑定设备")},unbind:function(t,e){var a=this;return l()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.unBind(t.id);case 2:a.$message("解绑成功");case 3:case"end":return e.stop()}},e,a)}))()}},computed:{bindUrl:function(){return"http://"+this.$dc.appInfo.pcIp+":"+this.$dc.appInfo.realUiPort+"/profile/device/bind?userId="+this.$dc.userId},imgUrl:function(){return r.a.toDataURL(this.bindUrl,4)}}}},function(t,e,a){"use strict";var n=a(5),i=a.n(n);e.a={name:"action-filter-detail",props:["action","remote"],data:function(){return{ruleType:[{value:"addRequestHeader",label:"增加请求头"},{value:"addQuery",label:"增加Query"},{value:"addResponseHeader",label:"增加响应头"},{value:"addRequestCookie",label:"设置请求cookie"},{value:"scriptModifyRequest",label:"js修改请求内容"},{value:"scriptModifyResponse",label:"js修改响应内容"}],modifyResponseType:[{value:"addTimestampToJsCss",label:"将html中的js、css请求加上时间戳"},{value:"returnDataInJsonpStyle",label:"以JSONP的方式返回数据"},{value:"allowCros",label:"增加跨域头部"},{value:"return404",label:"返回404"}]}},methods:{addDataFile:function(){var t=this;this.$dc.requestAddDataFile(function(e){t.action.data.dataId=e})},editDataFile:function(t){this.$dc.requestEditDataFile(t)}},computed:{datafileEntry:function(){var t=this;if("mockData"==this.action.type){var e=i.a.find(this.$dc.dataList,function(e){return e.id==t.action.data.dataId});return e||(this.action.data.dataId=""),e}}}}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(206),r=a(5),c=a.n(r),u=a(35),d=a.n(u),p=a(366);a(1).default.component(p.a.name,p.a),e.a={name:"filters",methods:{onDeleteRow:function(t,e,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$dc.filters.splice(e,1)})},onDuplicateRow:function(t,e,a){var n=c.a.cloneDeep(this.$dc.filters[e]);this.$dc.filters.splice(e,0,n)},saveFileRightNow:function(){var t=this;return l()(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,s.a.saveFilters(t.$dc.filters);case 3:a=e.sent,0==a.code&&t.$message({showClose:!0,type:"success",message:"保存成功!"});case 5:case"end":return e.stop()}},e,t)}))()},addRule:function(){this.$dc.filters.unshift({name:"",key:d()(),method:"",match:"",checked:!0,actionList:[{type:"addRequestHeader",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",reqHeaderKey:"",reqHeaderValue:"",resHeaderKey:"",resHeaderValue:"",queryKey:"",queryValue:"",modifyRequestScript:"",modifyResponseScript:""}}]})}}}},function(t,e,a){"use strict";var n=a(5),i=(a.n(n),a(1)),o=a(364);i.default.component(o.a.name,o.a),e.a={name:"rule-filter-detail",props:["rule","remote"],data:function(){return{methodlist:[{value:"",label:"所有"},{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"},{value:"option",label:"OPTION"}]}},methods:{editDataFile:function(t){this.$dc.requestEditDataFile(t)},addAction:function(){this.rule.actionList.push({type:"addRequestHeader",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",headerKey:"",headerValue:"",modifyRequestScript:"",modifyResponseScript:""}})},deleteAction:function(t){this.rule.actionList.splice(t,1)}}}},function(t,e,a){"use strict";var n=a(72),i=a.n(n);e.a={name:"help-info",data:function(){return{}},computed:{url:function(){return"http://"+this.$dc.appInfo.pcIp+":"+this.$dc.appInfo.realUiPort+"/utils/rootCA.crt"},imgUrl:function(){var t="http://"+this.$dc.appInfo.pcIp+":"+this.$dc.appInfo.realUiPort+"/utils/rootCA.crt";return i.a.toDataURL(t,4)}}}},function(t,e,a){"use strict";var n=a(36);e.a={name:"app",data:function(){return{createFileForm:{name:"",description:""},rules:{name:[{required:!0,message:"请输入文件名称名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请填文件描述",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;n.a.createFile(e.createFileForm.name,e.createFileForm.description).then(function(t){var a=t.data;0==a.code?(e.$message({showClose:!0,message:"恭喜你，创建成功",type:"success"}),e.$router.push("edithost?name="+e.createFileForm.name)):e.$message.error("出错了，"+a.msg)})})},back:function(){this.$router.push("hostfilelist")}}}},function(t,e,a){"use strict";var n=a(36),i=a(70),o=a.n(i);e.a={name:"app",data:function(){return{loaded:!1,filecontent:{content:""}}},computed:{hostExample:function(){return"#示例\n8.8.8.8    www.google.com\n4.4.4.4    *.taobao.com #所有后缀为.taobao.com的域名都被解析为4.4.4.4\n6.6.6.6    www.youzan.com h5.youzan.com"}},methods:{getFile:function(){var t=this;this.loaded=!1,n.a.getFileContent(this.$route.query.name).then(function(e){var a=e.data;0==a.code?(t.loaded=!0,t.filecontent=a.data,t.hostarray=[],o()(t.filecontent.content,function(e,a){t.hostarray.push({key:a,value:e})})):t.$message.error("出错了，"+a.msg)})},saveFile:function(){var t=this;n.a.saveFile(this.$route.query.name,this.filecontent).then(function(e){var a=e.data;0==a.code?t.$message({showClose:!0,type:"success",message:"保存成功!"}):t.$message.error("出错了，"+a.msg)})}},mounted:function(){this.getFile()},watch:{$route:function(t,e){this.getFile()}}}},function(t,e,a){"use strict";var n=a(36),i=a(5),o=a.n(i);e.a={name:"hostlist",computed:{selectedFileName:{get:function(){var t=o.a.find(this.$dc.hostFileList,function(t){return t.checked});return t?t.name:""},set:function(t){this.$dc.hostFileList.forEach(function(e){e.name!=t?e.checked=!1:e.checked=!0}),this.useFile(t)}}},methods:{onDeleteFile:function(t,e,a){var i=this;this.$confirm("此操作将永久删除该文件: "+t.name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.deleteFile(t.name).then(function(t){var e=t.data;0==e.code?i.$message({showClose:!0,type:"success",message:"删除成功!"}):i.$message.error("出错了，"+e.msg)})})},useFile:function(t){var e=this;n.a.debouncedUseFile(t,function(t){var a=t.data;0==a.code?e.$message({showClose:!0,type:"success",message:"设置成功!"}):e.$message.error("出错了,请刷新页面，"+a.msg)})},addNewHostFile:function(){this.$router.push("createhostfile")}}}},function(t,e,a){"use strict";var n=a(5),i=a.n(n);e.a={name:"action-detail",props:["action","remote"],data:function(){return{ruleType:[{value:"redirect",label:"转发请求"},{value:"mockData",label:"返回自定义数据"},{value:"addRequestHeader",label:"增加请求头"},{value:"addQuery",label:"增加Query"},{value:"addResponseHeader",label:"增加响应头"},{value:"modifyResponse",label:"修改响应内容"},{value:"addRequestCookie",label:"设置请求cookie"},{value:"scriptModifyRequest",label:"js修改请求内容"},{value:"scriptModifyResponse",label:"js修改响应内容"}],modifyResponseType:[{value:"addTimestampToJsCss",label:"将html中的js、css请求加上时间戳"},{value:"returnDataInJsonpStyle",label:"以JSONP的方式返回数据"},{value:"allowCros",label:"增加跨域头部"},{value:"return404",label:"返回404"}]}},methods:{addDataFile:function(){var t=this;this.$dc.requestAddDataFile(function(e){t.action.data.dataId=e})},editDataFile:function(t){this.$dc.requestEditDataFile(t)}},computed:{datafileEntry:function(){var t=this;if("mockData"==this.action.type){var e=i.a.find(this.$dc.dataList,function(e){return e.id==t.action.data.dataId});return e||(this.action.data.dataId=""),e}},redireactPlaceholder:function(){return"root"==this.$dc.userId?"填写转发路径(远程地址、或者本地地址。远程地址需要以http/https开头)":"填写转发路径(必须以http/https开头)"}}}},function(t,e,a){"use strict";var n=a(37);e.a={name:"app",data:function(){return{createFileForm:{name:"",checked:!0,description:""},rules:{name:[{required:!0,message:"请输入文件名称名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 20 个字符",trigger:"blur"}],description:[{required:!0,message:"请填文件描述",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;n.a.createFile(e.createFileForm.name,e.createFileForm.description).then(function(t){var a=t.data;0==a.code?(e.$message({showClose:!0,message:"恭喜你，创建成功",type:"success"}),e.$router.push("editrule?name="+e.createFileForm.name)):e.$message.error("出错了，"+a.msg)})})},back:function(){this.$router.push("rulefilelist")}}}},function(t,e,a){"use strict";var n=a(37),i=a(5),o=a.n(i),l=a(35),s=a.n(l),r=a(375);a(1).default.component(r.a.name,r.a),e.a={name:"edit-rule",data:function(){return{loaded:!1,name:"",filecontent:{meta:{}},testMatchRuleFormVisible:!1,testMatchRuleForm:{url:"",match:"",targetTpl:"",matchRlt:"",targetRlt:"",msg:""}}},methods:{getFile:function(){var t=this;this.loaded=!1,this.name=this.$route.query.name,n.a.getFileContent(this.$route.query.name).then(function(e){var a=e.data;0==a.code?(t.loaded=!0,o.a.forEach(a.data.content,function(t){t.key=t.key||s()()}),t.$dc.dataList.length>0?t.filecontent=a.data:setTimeout(function(){t.filecontent=a.data},1e3)):t.$message.error("出错了，"+a.msg)}).catch(function(e){t.filecontent={meta:{},content:[]}})},onDeleteRow:function(t,e,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.filecontent.content.splice(e,1)})},onDuplicateRow:function(t,e,a){var n=o.a.cloneDeep(this.filecontent.content[e]);this.filecontent.content.splice(e,0,n)},saveFileRightNow:function(){this.saveFile(),n.a.debouncedSaveFile.flush()},saveFile:function(t){var e=this;n.a.debouncedSaveFile(this.name,this.filecontent,function(a){var n=a.data;0==n.code?t||e.$message({showClose:!0,type:"success",message:"保存成功!"}):e.$message.error("出错了，"+n.msg)})},addRule:function(){this.filecontent.content.unshift({name:"",key:s()(),method:"",match:"",checked:!0,actionList:[{type:"redirect",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",reqHeaderKey:"",reqHeaderValue:"",resHeaderKey:"",resHeaderValue:"",queryKey:"",queryValue:"",modifyRequestScript:"",modifyResponseScript:""}}]})},testMatchRuleRequest:function(t){this.testMatchRuleForm.match=t.match,this.testMatchRuleForm.targetTpl=t.actionList[0]&&t.actionList[0].data.target||"",this.testMatchRuleForm.url="",this.testMatchRuleForm.matchRlt="",this.testMatchRuleForm.targetRlt="",this.testMatchRuleForm.msg="",this.testMatchRuleFormVisible=!0},testMatchRule:function(){var t=this;n.a.testRule(this.testMatchRuleForm).then(function(e){var a=e.data;0==a.code&&(t.testMatchRuleForm.matchRlt=a.data.matchRlt,t.testMatchRuleForm.targetRlt=a.data.targetRlt,t.testMatchRuleForm.msg=a.data.msg)})}},mounted:function(){this.getFile()},watch:{$route:function(t,e){this.getFile()}}}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(37),r=a(48),c=a(5),u=a.n(c),d=a(304);a.n(d);e.a={name:"rulefilelist",methods:{onDeleteFile:function(t,e){var a=this;this.$confirm("此操作将永久删除该文件: "+t.name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.a.deleteFile(t.name).then(function(t){var e=t.data;0==e.code?a.$message({showClose:!0,type:"success",message:"删除成功!"}):a.$message.error("出错了，"+e.msg)})})},onShareFile:function(t,e){t.meta.remote?this.$alert(t.meta.url,"规则URL",{confirmButtonText:"OK",callback:function(t){}}):window.location="/rule/download?name="+t.name},onUpdateFile:function(t,e){var a=this;this.$confirm("确定更新: "+t.name+" 么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.a.getRemoteRuleFile(t.meta.url).then(function(e){var n=e.data,i=n.data;i.meta={remote:!0,url:t.meta.url,ETag:n.headers.etag,remoteETag:n.headers.etag},i.name=i.name+"-remote",s.a.saveFile(i.name,i).then(function(t){var e=t.data;0==e.code?a.$message({showClose:!0,message:"恭喜你，更新成功",type:"success"}):_this.$message.error("出错了，"+e.msg)})})})},importRemoteRule:function(){var t=this;return l()(i.a.mark(function e(){var a,n,o,l,c,u,d;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$prompt("请输入远程规则文件的url","导入远程规则",{confirmButtonText:"确定",cancelButtonText:"取消"});case 2:return a=e.sent,n=a.value,console.log(n),e.next=7,r.a.getRemoteRuleFile(n);case 7:o=e.sent,l=o.data,c=l.data,c.meta={remote:!0,url:n,ETag:l.headers.etag,remoteETag:l.headers.etag},c.name=c.name+"-remote",u=s.a.getReferenceVar(c),d=void 0,d=u.length>0?"导入规则文件名为"+c.name+",引用变量【"+u.join("; ")+"】请确保变量已经在工程路径配种中设置过":"导入规则文件名为"+c.name,t.$alert(d,"导入远程规则",{confirmButtonText:"确定",callback:function(e){"confirm"==e&&s.a.saveFile(c.name,c).then(function(e){var a=e.data;0==a.code?t.$message({showClose:!0,message:"恭喜你，导入成功",type:"success"}):t.$message.error("出错了，"+a.msg)})}});case 16:case"end":return e.stop()}},e,t)}))()},onSelectionChange:function(t,e){var a=this;s.a.setFileCheckStatus(t,e).then(function(t){var e=t.data;0==e.code?a.$message({showClose:!0,type:"success",message:"设置成功!"}):a.$message.error("出错了，"+e.msg)})},addRuleCollection:function(){this.$router.push("createrulefile")},fileUpload:function(t){var e=this,a=t.target.files,n=a[0];if(n&&!(n.type.indexOf("json")<0)){var i=new FileReader;i.onload=function(t){var a=t.target.result,n=JSON.parse(a);if(u.a.find(e.fileList,function(t){return t.name==n.name}))return void e.$message.error("已经存在名为"+n.name+"的规则，请修改规则文件里的name字段,以及文件名");var i,o=s.a.getReferenceVar(n);i=o.length>0?"导入规则文件名为"+n.name+",引用变量【"+o.join("; ")+"】请确保变量已经在工程路径配置中设置过值":"导入规则文件名为"+n.name,e.$alert(i,"规则文件导入",{confirmButtonText:"确定",callback:function(t){"confirm"==t&&s.a.saveFile(n.name,n).then(function(t){var a=t.data;0==a.code?e.$message({showClose:!0,message:"恭喜你，导入成功",type:"success"}):e.$message.error("出错了，"+a.msg)})}})},i.readAsText(n)}}}}},function(t,e,a){"use strict";var n=a(5),i=(a.n(n),a(1)),o=a(371);i.default.component(o.a.name,o.a),e.a={name:"rule-detail",props:["rule","remote"],data:function(){return{methodlist:[{value:"",label:"所有"},{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"},{value:"option",label:"OPTION"}]}},methods:{editDataFile:function(t){this.$dc.requestEditDataFile(t)},addAction:function(){this.rule.actionList.push({type:"redirect",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",headerKey:"",headerValue:"",modifyRequestScript:"",modifyResponseScript:""}})},deleteAction:function(t){this.rule.actionList.splice(t,1)}}}},function(t,e,a){"use strict";var n=a(12),i=a.n(n),o=a(11),l=a.n(o),s=a(14);e.a={name:"configure",computed:{socksProxyExample:function(){return"#示例\n0.0.0.0    # 任何80 443端口的请求经过socks5时都会被解析\n4.4.4.4    # 没有0.0.0.0的情况下，socks5代理中只有4.4.4.4的80、443端口的请求被解析"}},methods:{saveFile:function(){var t=this;return l()(i.a.mark(function e(){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.saveFile(t.$dc.profile);case 2:a=e.sent,n=a.data,0==n.code?t.$message({showClose:!0,type:"success",message:"保存成功!"}):t.$message.error("出错了，"+n.msg);case 5:case"end":return e.stop()}},e,t)}))()}}}},,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(8),i=a.n(n);e.a={saveFile:function(t){return i.a.post("/configure/savefile",t)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(1),i=a(429),o=a(360),l=a(361),s=a(370),r=a(369),c=a(368),u=a(374),d=a(373),p=a(372),m=a(365),f=a(362),v=a(363),h=a(367),b=a(376);n.default.use(i.a),e.a=new i.a({routes:[{path:"/configure",component:o.a},{path:"/projectpath",component:l.a},{path:"/hostfilelist",component:s.a},{path:"/edithost",component:r.a},{path:"/createhostfile",component:c.a},{path:"/rulefilelist",component:u.a},{path:"/editrule",component:d.a},{path:"/createrulefile",component:p.a},{path:"/filter",component:m.a},{path:"/datalist",component:f.a},{path:"/device",component:v.a},{path:"/helpinstall",component:h.a,alias:"/"},{path:"/socks5",component:b.a}]})},function(t,e){},function(t,e){},,function(t,e,a){"use strict";var n=a(82),i=a(403),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/App.vue",e.a=l.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(8),i=a.n(n),o={saveFilters:function(t){return i.a.post("/filter/savefilters",t)}};e.a=o},,,function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(27),i=a.n(n),o=a(19),l=(a.n(o),a(1)),s=a(162),r=a(158),c=a(28),u=a.n(c),d=a(75),p=(a.n(d),a(159)),m=(a.n(p),a(160));a.n(m);l.default.use(i.a),l.default.use(u.a),new l.default({el:"#app",router:r.a,render:function(t){return t(s.a)}}),document.addEventListener("keydown",function(t){if((event.ctrlKey||event.metaKey)&&83==event.which)return event.preventDefault(),!1},!0)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.host-view .addhost-btn-wrap {\n    text-align: right;\n}\n.host-view .el-radio__label {\n    display: none;\n}\n",""])},,function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.view-configure {\n    max-width: 500px;\n}\n.view-configure .el-button {\n    margin-top: 15px;\n    padding: 10px 28px;\n    letter-spacing: 2px;\n}\n.socks-editor {\n    height: 500px;\n    width: 760px;\n    font-size: 18px;\n    padding: 10px 20px;\n}\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.addhost-btn-wrap {\n  text-align: right;\n}\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.action-panel .btn-panel {\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 10px;\n}\n\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.dashed-border {\n    border-top: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.install-body {\n  margin: -50px;\n  padding: 50px;\n  font-size: 14px;\n  line-height: 1.8;\n  background-color: #fff;\n}\n.install-body__qrcode {\n  display: block;\n  margin-left: -15px;\n}\n.install-body h1, .install-body h2, .install-body h3, .install-body h4, .install-body h5 {\n  font-weight: 400;\n  margin: 20px 0 10px;\n  color: rgba(51, 51, 51, 0.9);\n}\n.install-body h1 {\n  margin: 0;\n  font-size: 32px;\n  font-family: Dosis, Source Sans Pro, Helvetica Neue, Arial, sans-serif;\n}\n.install-body h2 {\n  color: #333;\n  font-size: 24px;\n  margin-top: 30px;\n}\n.install-body h2:first-of-type {\n  margin-top: 10px;\n}\n.install-body h4 {\n  font-size: 18px;\n}\n.install-body code {\n  margin: 2px;\n  color: #455a64;\n  padding: 2px 7px;\n  font-size: 13px;\n  overflow-x: auto;\n  font-weight: 400;\n  line-height: 22px;\n  border-radius: 3px;\n  margin-bottom: 25px;\n  position: relative;\n  word-break: break-all;\n  white-space: pre-wrap;\n  background-color: #f5f7fa;\n  font-family: Source Code Pro,Monaco,Inconsolata,monospace;\n}\n.install-body ol {\n  padding-left: 20px;\n}\n.install-body a {\n  color: #3498db;\n  text-decoration: none;\n}\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.host-editor {\n    height: 500px;\n    width: 84%;\n    font-size: 18px;\n    padding: 10px 20px;\n}\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.action-panel .btn-panel {\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 10px;\n}\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.addrule-btn-wrap {\n  text-align: right;\n}\n\n\n",""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.dashed-border {\n    border-top: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},function(t,e,a){e=t.exports=a(3)(),e.push([t.i,"\n.socks-configure {\n    max-width: 500px;\n}\n.socks-configure .el-button {\n    margin-top: 15px;\n    padding: 10px 28px;\n    letter-spacing: 2px;\n}\n.socks-configure .socks-editor {\n    height: 500px;\n    width: 760px;\n    font-size: 18px;\n    padding: 10px 20px;\n}\n\n",""])},,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,a){"use strict";var n=a(83),i=a(391),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/components/common/Header.vue",e.a=l.exports},function(t,e,a){"use strict";var n=a(84),i=a(402),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/components/common/LeftMenu.vue",e.a=l.exports},function(t,e,a){"use strict";function n(t){s||a(436)}var i=a(85),o=a(406),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/configure/Configure.vue",e.a=c.exports},function(t,e,a){"use strict";var n=a(86),i=a(420),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/components/configure/ProjectPath.vue",e.a=l.exports},function(t,e,a){"use strict";function n(t){s||a(437)}var i=a(87),o=a(413),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/data/DataList.vue",e.a=c.exports},function(t,e,a){"use strict";var n=a(88),i=a(394),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/components/device/DeviceList.vue",e.a=l.exports},function(t,e,a){"use strict";function n(t){s||a(438)}var i=a(89),o=a(415),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/filter/ActionDetail.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(439)}var i=a(90),o=a(416),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/filter/Filter.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(440)}var i=a(91),o=a(410),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/filter/RuleDetail.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(441)}var i=a(92),o=a(408),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/help/Install.vue",e.a=c.exports},function(t,e,a){"use strict";var n=a(93),i=a(396),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/components/host/CreateFile.vue",e.a=l.exports},function(t,e,a){"use strict";function n(t){s||a(442)}var i=a(94),o=a(405),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/host/EditHost.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(434)}var i=a(95),o=a(418),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/host/FileList.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(443)}var i=a(96),o=a(395),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/rule/ActionDetail.vue",e.a=c.exports},function(t,e,a){"use strict";var n=a(97),i=a(407),o=a(0),l=a.i(o.a)(n.a,i.a,i.b,!1,null,null,null);l.options.__file="src/manager/components/rule/CreateFile.vue",e.a=l.exports},function(t,e,a){"use strict";function n(t){s||a(444)}var i=a(98),o=a(404),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/rule/EditRule.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(445)}var i=a(99),o=a(417),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/rule/FileList.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(446)}var i=a(100),o=a(392),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/rule/RuleDetail.vue",e.a=c.exports},function(t,e,a){"use strict";function n(t){s||a(447)}var i=a(101),o=a(409),l=a(0),s=!1,r=n,c=a.i(l.a)(i.a,o.a,o.b,!1,r,null,null);c.options.__file="src/manager/components/socks5/Configure.vue",e.a=c.exports},,,,,,,,,,,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"head-nav"},[a("div",{staticClass:"menu-slot"},[a("el-dropdown",{attrs:{"hide-on-click":!1,placement:"bottom-start"},on:{command:t.$dc.selectHostFile}},[a("el-button",{attrs:{type:"primary",size:"small",disabled:!t.$dc.profile.enableHost}},[t._v("\n                Host 切换"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$dc.hostFileList,function(e){return a("el-dropdown-item",{attrs:{command:e.name}},[t._v("\n                    "+t._s(e.name)+"\n                    "),e.checked?a("i",{staticClass:"el-icon-check"}):t._e()])}))],1),t._v(" "),a("span",[a("el-switch",{attrs:{value:t.$dc.profile.enableHost,"active-text":"","inactive-text":""},on:{input:t.$dc.switchHost}})],1)],1),t._v(" "),a("div",{staticClass:"menu-slot"},[a("el-dropdown",{attrs:{"hide-on-click":!1},on:{command:t.$dc.selectRuleFile}},[a("el-button",{attrs:{type:"primary",size:"small",disabled:!t.$dc.profile.enableRule}},[t._v("\n                Rule 设置"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.$dc.ruleFileList,function(e){return a("el-dropdown-item",{attrs:{command:e.name+"-%-"+e.checked}},[t._v("\n                    "+t._s(e.name)+"\n                    "),e.checked?a("i",{staticClass:"el-icon-check"}):t._e()])}))],1),t._v(" "),a("span",[a("el-switch",{attrs:{value:t.$dc.profile.enableRule,"active-text":"","inactive-text":""},on:{input:t.$dc.switchRule}})],1)],1),t._v(" "),a("div",{staticClass:"menu-slot"},[t._v("\n        过滤器开关\n        "),a("el-switch",{attrs:{value:t.$dc.profile.enableFilter,"active-text":"","inactive-text":""},on:{input:t.$dc.switchFilter}})],1),t._v(" "),a("div",{staticClass:"menu-slot link-blank"},[a("a",{attrs:{href:"/monitor.html",target:"_blank"}},[a("el-button",{attrs:{type:"text"}},[t._v("监控窗")])],1),t._v(" "),a("a",{attrs:{href:"/help/index.html",target:"_blank"}},[a("el-button",{attrs:{type:"text"}},[t._v("帮助中心")])],1),t._v(" "),t.$dc.appInfo.single?t._e():a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.changeUser}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击切换用户",placement:"top"}},[a("el-button",{attrs:{type:"text"}},[t._v(t._s(t.$dc.userId))])],1)],1)])])},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"el-form demo-form-inline el-form--inline conditon"},[a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px"}},[a("label",{staticClass:"el-form-item__label"},[t._v("条件")]),t._v(" "),a("div",{staticClass:"el-form-item__content"},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"请选择",disabled:t.remote},model:{value:t.rule.method,callback:function(e){t.$set(t.rule,"method",e)},expression:"rule.method"}},t._l(t.methodlist,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px",width:"calc(100% - 170px)","padding-left":"20px","margin-right":"0px"}},[a("div",{staticClass:"el-form-item__content",staticStyle:{width:"100%"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",disabled:t.remote,placeholder:"填写要拦截的url中部分连续的字符串，或者匹配要拦截url的正则表达式"},model:{value:t.rule.match,callback:function(e){t.$set(t.rule,"match",e)},expression:"rule.match"}})],1)])]),t._v(" "),a("div",{staticStyle:{padding:"10px 0"}},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("div",[a("el-input",{attrs:{size:"small",placeholder:"规则说明，写一段文字，方便记忆这个规则的作用"},model:{value:t.rule.name,callback:function(e){t.$set(t.rule,"name",e)},expression:"rule.name"}})],1)]),t._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block"}},[a("el-button",{attrs:{type:"text",disabled:t.remote},on:{click:t.addAction}},[t._v("新增动作")])],1)]),t._v(" "),a("div",t._l(t.rule.actionList,function(e,n){return a("div",{key:n,staticClass:"dashed-border"},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("action-detail",{attrs:{action:e,remote:t.remote}})],1),t._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block","vertical-align":"bottom","line-height":"107px",height:"107px"}},[a("el-button",{attrs:{type:"text",disabled:t.remote},on:{click:function(e){t.deleteAction(n)}}},[t._v("删除动作")])],1)])}))])},i=[];n._withStripped=!0},,function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("绑定的设备列表")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"bind-qrcode-panel"},[a("div",{staticClass:"title"},[t._v("扫码绑定设备")]),t._v(" "),a("div",{staticClass:"qrcode"},[a("img",{staticClass:"bind-qrcode",attrs:{src:t.imgUrl}})]),t._v(" "),a("div",{staticClass:"bottom"},[a("el-button",{attrs:{type:"text"},on:{click:t.copyBindUrl}},[t._v("点击复制绑定链接")])],1)]),t._v(" "),a("el-table",{staticStyle:{width:"800px"},attrs:{border:"",align:"center",data:this.$dc.bindedDeviceList}},[a("el-table-column",{attrs:{prop:"id",label:"ID",align:"center",width:"150",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"Name",align:"center",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:136,align:"center",context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.unbind(e.row,e.$index)}}})]}}])})],1)],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-path-info"},[t._v("\n        列表中的设备通过http trick发起请求时，请求会被当前用户的过滤器、规则处理。"),a("br"),t._v("\n        如果设备没有绑定任何用户则会使用root用户的过滤器、规则。"),a("br"),t._v("\n        扫描右边的二维码可绑定设备。\n    ")])}];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"inline-block left-panel"},[a("el-select",{staticStyle:{"margin-top":"25px","margin-right":"10px","font-size":"12px"},attrs:{placeholder:"请选择",size:"small",disabled:t.remote},model:{value:t.action.type,callback:function(e){t.$set(t.action,"type",e)},expression:"action.type"}},t._l(t.ruleType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),"redirect"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{attrs:{size:"small",disabled:t.remote,placeholder:t.redireactPlaceholder},model:{value:t.action.data.target,callback:function(e){t.$set(t.action.data,"target",e)},expression:"action.data.target"}})],1)]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"mockData"==t.action.type,expression:"action.type == 'mockData'"}],staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("span",[a("el-select",{staticStyle:{width:"300px"},attrs:{size:"small",filterable:"",placeholder:"请选择要返回的数据"},model:{value:t.action.data.dataId,callback:function(e){t.$set(t.action.data,"dataId",e)},expression:"action.data.dataId"}},t._l(t.$dc.dataList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),t.datafileEntry?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.editDataFile(t.datafileEntry)}}},[t._v("\n              编辑数据\n            ")])],1):t._e(),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:t.addDataFile}},[t._v("增加自定义数据")])],1)])]),t._v(" "),"addRequestCookie"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"cookie key"},model:{value:t.action.data.cookieKey,callback:function(e){t.$set(t.action.data,"cookieKey",e)},expression:"action.data.cookieKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"cookie value"},model:{value:t.action.data.cookieValue,callback:function(e){t.$set(t.action.data,"cookieValue",e)},expression:"action.data.cookieValue"}})],1)]):t._e(),t._v(" "),"modifyResponse"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-select",{staticStyle:{width:"260px"},attrs:{size:"small",placeholder:"请选择修改返回body操作",disabled:t.remote},model:{value:t.action.data.modifyResponseType,callback:function(e){t.$set(t.action.data,"modifyResponseType",e)},expression:"action.data.modifyResponseType"}},t._l(t.modifyResponseType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),"returnDataInJsonpStyle"==t.action.data.modifyResponseType?a("span",[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:t.remote,placeholder:"jsonp callback参数名"},model:{value:t.action.data.callbackName,callback:function(e){t.$set(t.action.data,"callbackName",e)},expression:"action.data.callbackName"}})],1):t._e()],1)]):t._e(),t._v(" "),"addRequestHeader"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"header key"},model:{value:t.action.data.reqHeaderKey,callback:function(e){t.$set(t.action.data,"reqHeaderKey",e)},expression:"action.data.reqHeaderKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"header value"},model:{value:t.action.data.reqHeaderValue,callback:function(e){t.$set(t.action.data,"reqHeaderValue",e)},expression:"action.data.reqHeaderValue"}})],1)]):t._e(),t._v(" "),"addQuery"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"query key"},model:{value:t.action.data.queryKey,callback:function(e){t.$set(t.action.data,"queryKey",e)},expression:"action.data.queryKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"query value"},model:{value:t.action.data.queryValue,callback:function(e){t.$set(t.action.data,"queryValue",e)},expression:"action.data.queryValue"}})],1)]):t._e(),t._v(" "),"addResponseHeader"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"header key"},model:{value:t.action.data.resHeaderKey,callback:function(e){t.$set(t.action.data,"resHeaderKey",e)},expression:"action.data.resHeaderKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"header value"},model:{value:t.action.data.resHeaderValue,callback:function(e){t.$set(t.action.data,"resHeaderValue",e)},expression:"action.data.resHeaderValue"}})],1)]):t._e(),t._v(" "),"scriptModifyRequest"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.data.modifyRequestScript,expression:"action.data.modifyRequestScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:t.action.data.modifyRequestScript},on:{input:function(e){e.target.composing||t.$set(t.action.data,"modifyRequestScript",e.target.value)}}})]):t._e(),t._v(" "),"scriptModifyResponse"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.data.modifyResponseScript,expression:"action.data.modifyResponseScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:t.action.data.modifyResponseScript},on:{input:function(e){e.target.composing||t.$set(t.action.data,"modifyResponseScript",e.target.value)}}})]):t._e()])},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("创建Host文件")]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{model:t.createFileForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文件名字",prop:"name"}},[a("el-input",{model:{value:t.createFileForm.name,callback:function(e){t.$set(t.createFileForm,"name",e)},expression:"createFileForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"文件描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.createFileForm.description,callback:function(e){t.$set(t.createFileForm,"description",e)},expression:"createFileForm.description"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即创建")]),t._v(" "),a("el-button",{on:{click:t.back}},[t._v("返回")])],1)],1)],1)},i=[];n._withStripped=!0},,,,,,function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left-menu"},[a("h2",[t._v("Http Trick")]),t._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.defaultActive},on:{select:t.handleSelect}},[t._l(t.menuList,function(e,n){return[a("div",{key:n},[a("el-menu-item",{attrs:{index:n+""}},[a("i",{staticClass:"iconfont",class:e.icon}),t._v(" "),a("span",{staticClass:"menu-name"},[t._v("\n                      "+t._s(e.name)+"\n                    ")])])],1)]})],2)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-wrapper"},[a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("left-menu")],1),t._v(" "),a("el-container",[a("el-header",{attrs:{height:"72px"}},[a("manager-header")],1),t._v(" "),a("el-main",[a("router-view")],1)],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新建Mock数据文件",visible:t.addDataFileForm.visible},on:{"update:visible":function(e){t.$set(t.addDataFileForm,"visible",e)}}},[a("el-form",{attrs:{model:t.addDataFileForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:t.addDataFileForm.name,callback:function(e){t.$set(t.addDataFileForm,"name",e)},expression:"addDataFileForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"格式"}},[a("el-select",{attrs:{placeholder:"请选择数据文件格式"},model:{value:t.addDataFileForm.contenttype,callback:function(e){t.$set(t.addDataFileForm,"contenttype",e)},expression:"addDataFileForm.contenttype"}},[a("el-option",{attrs:{label:"html",value:"text/html"}}),t._v(" "),a("el-option",{attrs:{label:"json",value:"application/json"}}),t._v(" "),a("el-option",{attrs:{label:"javascript",value:"application/javascript"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDataFileForm.visible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addDataFile}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{ref:"editDataFileDialog",attrs:{title:"编辑Mock数据文件","close-on-press-escape":!1,visible:t.editDataFileForm.visible},on:{"update:visible":function(e){t.$set(t.editDataFileForm,"visible",e)}}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("\n            编辑数据文件 "+t._s(t.editDataFileForm.entry.name)+" [Content-Type: "+t._s(t.editDataFileForm.entry.contenttype)+"]\n        ")]),t._v(" "),a("div",{staticStyle:{height:"305px"},attrs:{id:"content-editor-container"}},[a("div",{attrs:{id:"content-editor"}})]),t._v(" "),a("div",[t._v("\n            Press "),a("strong",[t._v("F11")]),t._v(" when cursor is in the editor to\n            toggle full screen editing. "),a("strong",[t._v("Esc")]),t._v(" can also be used\n            to "),a("i",[t._v("exit")]),t._v(" full screen editing.\n        ")]),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDataFileForm.visible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{on:{click:t.toggleFullScreen}},[t._v("全屏")]),t._v(" "),a("el-button",{on:{click:t.formatEditor}},[t._v("格式化")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.finishEditDataFile}},[t._v("确 定")])],1)])],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("编辑规则集"+t._s(t.loaded?": "+t.filecontent.name:""))]),t._v(" "),a("div",{staticClass:"project-path-info"},[t._v("可以控制单个规则是否启用，当规则所在规则集没有启用时，规则不管是否启用，都不会生效。")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px","text-align":"right"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small",disabled:t.filecontent.meta.remote},on:{click:t.addRule}},[t._v("新增规则")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveFileRightNow}},[t._v("保存规则集")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","row-key":"key",stripe:!0,align:"center",data:t.filecontent.content}},[a("el-table-column",{attrs:{prop:"checked",label:"启用",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后启动这条规则",placement:"left"}},[a("el-checkbox",{model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"规则设置",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("rule-detail",{attrs:{rule:e.row,remote:t.filecontent.meta.remote}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:100,align:"center",context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[t.filecontent.meta.remote?t._e():a("div",{staticClass:"action-panel"},[a("div",{staticClass:"btn-panel"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制",placement:"left"}},[a("el-button",{attrs:{icon:"el-icon-document",size:"mini"},on:{click:function(a){t.onDuplicateRow(e.row,e.$index,t.filecontent.content)}}})],1)],1),t._v(" "),a("div",{staticClass:"btn-panel"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.onDeleteRow(e.row,e.$index,t.filecontent.content)}}})],1)],1),t._v(" "),a("div",{staticClass:"btn-panel"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"测试规则",placement:"left"}},[a("el-button",{attrs:{type:"blue",icon:"el-icon-search",size:"mini"},on:{click:function(a){t.testMatchRuleRequest(e.row)}}})],1)],1)])]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:"匹配规则测试(只测试正则匹配，不包含请求方法)",size:"large"},model:{value:t.testMatchRuleFormVisible,callback:function(e){t.testMatchRuleFormVisible=e},expression:"testMatchRuleFormVisible"}},[a("el-form",{attrs:{model:t.testMatchRuleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"请求url"}},[a("el-input",{model:{value:t.testMatchRuleForm.url,callback:function(e){t.$set(t.testMatchRuleForm,"url",e)},expression:"testMatchRuleForm.url"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"匹配条件"}},[a("el-input",{model:{value:t.testMatchRuleForm.match,callback:function(e){t.$set(t.testMatchRuleForm,"match",e)},expression:"testMatchRuleForm.match"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"转发路径"}},[a("el-input",{model:{value:t.testMatchRuleForm.targetTpl,callback:function(e){t.$set(t.testMatchRuleForm,"targetTpl",e)},expression:"testMatchRuleForm.targetTpl"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"匹配结果"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.testMatchRuleForm.matchRlt,callback:function(e){t.$set(t.testMatchRuleForm,"matchRlt",e)},expression:"testMatchRuleForm.matchRlt"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"最终目标路径"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.testMatchRuleForm.targetRlt,callback:function(e){t.$set(t.testMatchRuleForm,"targetRlt",e)},expression:"testMatchRuleForm.targetRlt"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"其他信息"}},[a("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:t.testMatchRuleForm.msg,callback:function(e){t.$set(t.testMatchRuleForm,"msg",e)},expression:"testMatchRuleForm.msg"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.testMatchRuleFormVisible=!1}}},[t._v("关 闭")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.testMatchRule}},[t._v("测 试")])],1)],1)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("编辑Host文件"+t._s(t.loaded?": "+t.filecontent.name:""))]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveFile}},[t._v("保存文件")])],1)],1),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.filecontent.content,expression:"filecontent.content"}],staticClass:"host-editor",attrs:{placeholder:t.hostExample},domProps:{value:t.filecontent.content},on:{input:function(e){e.target.composing||t.$set(t.filecontent,"content",e.target.value)}}})],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-configure"},[a("div",{staticClass:"main-content__title"},[t._v("基础配置修改")]),t._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"代理端口"}},[a("el-input",{attrs:{placeholder:"proxy的代理端口"},model:{value:t.$dc.configure.proxyPort,callback:function(e){t.$set(t.$dc.configure,"proxyPort",e)},expression:"$dc.configure.proxyPort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"Socks5端口"}},[a("el-input",{attrs:{placeholder:"proxy的代理端口"},model:{value:t.$dc.configure.socks5Port,callback:function(e){t.$set(t.$dc.configure,"socks5Port",e)},expression:"$dc.configure.socks5Port"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"超时时间"}},[a("el-input",{attrs:{placeholder:"远程服务器响应超时，proxy会终止请求"},model:{value:t.$dc.configure.requestTimeoutTime,callback:function(e){t.$set(t.$dc.configure,"requestTimeoutTime",e)},expression:"$dc.configure.requestTimeoutTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.saveFile}},[t._v("保存")])],1)],1)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("创建规则集")]),t._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{model:t.createFileForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"规则集名字",prop:"name"}},[a("el-input",{model:{value:t.createFileForm.name,callback:function(e){t.$set(t.createFileForm,"name",e)},expression:"createFileForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"规则集描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:t.createFileForm.description,callback:function(e){t.$set(t.createFileForm,"description",e)},expression:"createFileForm.description"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("立即创建")]),t._v(" "),a("el-button",{on:{click:function(e){t.back()}}},[t._v("返回")])],1)],1)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"install-body"},[a("h1",[t._v("Http Trick")]),t._v(" "),a("h2",{attrs:{id:"toc_0"}},[t._v("一、说明")]),t._v(" "),a("p",[t._v("http trick是http协议代理工具，需要设置浏览器代理或者系统代理才能使用本工具。")]),t._v(" "),a("p",[t._v("另http trick外依赖 openssl 生成证书，请先安装 openssl (版本建议在 0.9.8 以上)。")]),t._v(" "),a("h2",{attrs:{id:"toc_1"}},[t._v("二、chrome 代理插件安装(用于设置浏览器代理)")]),t._v(" "),t._m(0),t._v(" "),a("h4",{attrs:{id:"toc_2"}},[t._v("插件使用说明")]),t._v(" "),t._m(1),t._v(" "),a("h2",{attrs:{id:"toc_3"}},[t._v("三、证书安装")]),t._v(" "),a("h4",{attrs:{id:"toc_4"}},[t._v("1. 为什么需要安装证书")]),t._v(" "),t._m(2),t._v(" "),a("h4",{attrs:{id:"toc_5"}},[t._v("2. 证书下载")]),t._v(" "),a("ol",[a("li",[t._v("mac 系统请"),a("a",{attrs:{href:t.url}},[t._v("点击下载到本地安装")])]),t._v(" "),a("li",[t._v("手机请扫码安装证书"),a("img",{staticClass:"install-body__qrcode",attrs:{src:t.imgUrl}})]),t._v(" "),t._m(3)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("推荐安装 SwitchyOmega "),a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=en-US",target:"_blank"}},[t._v("点击安装代理插件")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",[a("li",[t._v("安装完插件后请设置插件代理地址为"),a("code",[t._v("127.0.0.1")]),t._v("，代理协议: http，端口为"),a("code",[t._v("http trick")]),t._v("代理端口(默认8001)。")]),t._v(" "),a("li",[t._v("如不清楚如何配置 SwitchyOmega，请参考 "),a("a",{attrs:{href:"/help/chrome/",target:"_blank"}},[t._v("chrome 代理设置指南")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("由于"),a("code",[t._v("http trick")]),t._v("会代理 https 的请求，所以需要本地安装"),a("code",[t._v("http trick")]),t._v("的https 证书。")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[t._v("证书信任请参考"),a("a",{attrs:{href:"/help/cert/",target:"_blank"}},[t._v("如何信任证书")])])}];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"socks-configure"},[a("div",{staticClass:"main-content__title"},[t._v("Socks配置修改")]),t._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"Socks解析"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.$dc.profile.socksProxyNeedParseIp,expression:"$dc.profile.socksProxyNeedParseIp"}],staticClass:"socks-editor",attrs:{placeholder:t.socksProxyExample},domProps:{value:t.$dc.profile.socksProxyNeedParseIp},on:{input:function(e){e.target.composing||t.$set(t.$dc.profile,"socksProxyNeedParseIp",e.target.value)}}})]),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.saveFile}},[t._v("保存")])],1)],1)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"el-form demo-form-inline el-form--inline conditon"},[a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px"}},[a("label",{staticClass:"el-form-item__label"},[t._v("条件")]),t._v(" "),a("div",{staticClass:"el-form-item__content"},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"请选择",disabled:t.remote},model:{value:t.rule.method,callback:function(e){t.$set(t.rule,"method",e)},expression:"rule.method"}},t._l(t.methodlist,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px",width:"calc(100% - 170px)","padding-left":"20px","margin-right":"0px"}},[a("div",{staticClass:"el-form-item__content",staticStyle:{width:"100%"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",disabled:t.remote,placeholder:"填写要拦截的url中部分连续的字符串，或者匹配要拦截url的正则表达式"},model:{value:t.rule.match,callback:function(e){t.$set(t.rule,"match",e)},expression:"rule.match"}})],1)])]),t._v(" "),a("div",{staticStyle:{padding:"10px 0"}},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("div",[a("el-input",{attrs:{size:"small",placeholder:"规则说明，写一段文字，方便记忆这个规则的作用"},model:{value:t.rule.name,callback:function(e){t.$set(t.rule,"name",e)},expression:"rule.name"}})],1)]),t._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block"}},[a("el-button",{attrs:{type:"text",disabled:t.remote},on:{click:t.addAction}},[t._v("新增动作")])],1)]),t._v(" "),a("div",t._l(t.rule.actionList,function(e,n){return a("div",{key:n,staticClass:"dashed-border"},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("action-filter-detail",{attrs:{action:e,remote:t.remote}})],1),t._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block","vertical-align":"bottom","line-height":"107px",height:"107px"}},[a("el-button",{attrs:{type:"text",disabled:t.remote},on:{click:function(e){t.deleteAction(n)}}},[t._v("删除动作")])],1)])}))])},i=[];n._withStripped=!0},,,function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("自定义数据文件列表")]),t._v(" "),a("div",{staticClass:"project-path-info"},[t._v("在http转发规则里面，可以配置将这里的mock数据返回给浏览器")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"addhost-btn-wrap",attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.$dc.requestAddDataFile()}}},[t._v("新增数据文件")])],1)],1),t._v(" "),a("el-table",{attrs:{border:"",align:"center",data:t.$dc.dataList}},[a("el-table-column",{attrs:{prop:"name",label:"名字",align:"center",width:"300",sortable:!0}}),t._v(" "),a("el-table-column",{attrs:{prop:"contenttype",label:"类型",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:136,align:"center",context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"mini"},on:{click:function(a){t.$dc.requestEditDataFile(e.row)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.$dc.deleteDataFile(e.row,e.$index)}}})]}}])})],1)],1)},i=[];n._withStripped=!0},,function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"inline-block left-panel"},[a("el-select",{staticStyle:{"margin-top":"25px","margin-right":"10px","font-size":"12px"},attrs:{placeholder:"请选择",size:"small",disabled:t.remote},model:{value:t.action.type,callback:function(e){t.$set(t.action,"type",e)},expression:"action.type"}},t._l(t.ruleType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),"redirect"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{attrs:{size:"small",disabled:t.remote,placeholder:"填写转发路径(远程地址、或者本地地址。远程地址需要以http/https开头)"},model:{value:t.action.data.target,callback:function(e){t.$set(t.action.data,"target",e)},expression:"action.data.target"}})],1)]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"mockData"==t.action.type,expression:"action.type == 'mockData'"}],staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("span",[a("el-select",{staticStyle:{width:"300px"},attrs:{size:"small",filterable:"",placeholder:"请选择要返回的数据"},model:{value:t.action.data.dataId,callback:function(e){t.$set(t.action.data,"dataId",e)},expression:"action.data.dataId"}},t._l(t.$dc.dataList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),t.datafileEntry?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(e){t.editDataFile(t.datafileEntry)}}},[t._v("\n              编辑数据\n            ")])],1):t._e(),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:t.addDataFile}},[t._v("增加自定义数据")])],1)])]),t._v(" "),"addRequestCookie"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"cookie key"},model:{value:t.action.data.cookieKey,callback:function(e){t.$set(t.action.data,"cookieKey",e)},expression:"action.data.cookieKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"cookie value"},model:{value:t.action.data.cookieValue,callback:function(e){t.$set(t.action.data,"cookieValue",e)},expression:"action.data.cookieValue"}})],1)]):t._e(),t._v(" "),"modifyResponse"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-select",{staticStyle:{width:"260px"},attrs:{size:"small",placeholder:"请选择修改返回body操作",disabled:t.remote},model:{value:t.action.data.modifyResponseType,callback:function(e){t.$set(t.action.data,"modifyResponseType",e)},expression:"action.data.modifyResponseType"}},t._l(t.modifyResponseType,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),"returnDataInJsonpStyle"==t.action.data.modifyResponseType?a("span",[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:t.remote,placeholder:"jsonp callback参数名"},model:{value:t.action.data.callbackName,callback:function(e){t.$set(t.action.data,"callbackName",e)},expression:"action.data.callbackName"}})],1):t._e()],1)]):t._e(),t._v(" "),"addRequestHeader"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"header key"},model:{value:t.action.data.reqHeaderKey,callback:function(e){t.$set(t.action.data,"reqHeaderKey",e)},expression:"action.data.reqHeaderKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"header value"},model:{value:t.action.data.reqHeaderValue,callback:function(e){t.$set(t.action.data,"reqHeaderValue",e)},expression:"action.data.reqHeaderValue"}})],1)]):t._e(),t._v(" "),"addQuery"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"query key"},model:{value:t.action.data.queryKey,callback:function(e){t.$set(t.action.data,"queryKey",e)},expression:"action.data.queryKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"query value"},model:{value:t.action.data.queryValue,callback:function(e){t.$set(t.action.data,"queryValue",e)},expression:"action.data.queryValue"}})],1)]):t._e(),t._v(" "),"addResponseHeader"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:t.remote,placeholder:"header key"},model:{value:t.action.data.resHeaderKey,callback:function(e){t.$set(t.action.data,"resHeaderKey",e)},expression:"action.data.resHeaderKey"}}),t._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:t.remote,placeholder:"header value"},model:{value:t.action.data.resHeaderValue,callback:function(e){t.$set(t.action.data,"resHeaderValue",e)},expression:"action.data.resHeaderValue"}})],1)]):t._e(),t._v(" "),"scriptModifyRequest"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.data.modifyRequestScript,expression:"action.data.modifyRequestScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:t.action.data.modifyRequestScript},on:{input:function(e){e.target.composing||t.$set(t.action.data,"modifyRequestScript",e.target.value)}}})]):t._e(),t._v(" "),"scriptModifyResponse"==t.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.action.data.modifyResponseScript,expression:"action.data.modifyResponseScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:t.action.data.modifyResponseScript},on:{input:function(e){e.target.composing||t.$set(t.action.data,"modifyResponseScript",e.target.value)}}})]):t._e()])},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("过滤器")]),t._v(" "),a("div",{staticClass:"project-path-info"},[t._v("一个http请求会可以执行多个匹配的过滤器；过滤器可以用于向http请求里植入登录态。可以控制单个过滤器是否启用")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px","text-align":"right"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:t.addRule}},[t._v("新增过滤器")]),t._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.saveFileRightNow}},[t._v("保存过滤器")])],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","row-key":"key",stripe:!0,align:"center",data:t.$dc.filters}},[a("el-table-column",{attrs:{prop:"checked",label:"启用",align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后启动这条规则",placement:"left"}},[a("el-checkbox",{attrs:{disabled:!t.$dc.filterState},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"规则设置",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("rule-filter-detail",{attrs:{rule:t.row}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:100,align:"center",context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"action-panel"},[a("div",{staticClass:"btn-panel"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制",placement:"left"}},[a("el-button",{attrs:{icon:"el-icon-document",size:"mini"},on:{click:function(a){t.onDuplicateRow(e.row,e.$index)}}})],1)],1),t._v(" "),a("div",{staticClass:"btn-panel"},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.onDeleteRow(e.row,e.$index)}}})],1)],1)])]}}])})],1)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"main-content__title"},[t._v("规则集列表")]),t._v(" "),a("div",{staticClass:"project-path-info"},[t._v("http转发规则以规则集的方式组织，可以控制单个规则集是否启用。")]),t._v(" "),a("div",{staticClass:"rule-list-op"},[a("div",{staticClass:"op"},[a("input",{staticClass:"importfile",attrs:{type:"file"},on:{change:t.fileUpload}}),t._v(" "),a("el-button",{attrs:{size:"small"}},[t._v("导入规则集")])],1),t._v(" "),a("div",{staticClass:"op"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.importRemoteRule}},[t._v("导入远程规则")])],1),t._v(" "),a("div",{staticClass:"op"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.importRemoteRule}},[t._v("批量导入远程规则")])],1),t._v(" "),a("div",{staticClass:"op"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addRuleCollection}},[t._v("新增规则集")])],1)]),t._v(" "),a("el-table",{attrs:{border:"",data:t.$dc.ruleFileList}},[a("el-table-column",{attrs:{prop:"name",label:"名字",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.name)+"\n        "),e.row.meta.remote?a("el-tag",{attrs:{type:"danger","close-transition":""}},[t._v("远程规则")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:200,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"#/editrule?name="+e.row.name}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑规则",placement:"top-start"}},[a("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"mini"}})],1)],1),t._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"导出规则",placement:"top-start"}},[a("el-button",{attrs:{type:"info",icon:"el-icon-share",size:"mini"},on:{click:function(a){t.onShareFile(e.row,e.$index)}}})],1),t._v(" "),a("span",[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.onDeleteFile(e.row,e.$index)}}})],1),t._v(" "),a("span",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同步远程文件",placement:"top-start"}},[e.row.meta.remote&&e.row.meta.remoteETag&&e.row.meta.ETag!==e.row.meta.remoteETag?a("el-button",{attrs:{type:"success",icon:"el-icon-information",size:"mini"},on:{click:function(a){t.onUpdateFile(e.row,e.$index)}}}):t._e()],1)],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"checked",label:"启用",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{disabled:!t.$dc.ruleState},on:{change:function(a){t.onSelectionChange(e.row.name,e.row.checked)}},model:{value:e.row.checked,callback:function(a){t.$set(e.row,"checked",a)},expression:"scope.row.checked"}})]}}])})],1)],1)},i=[];n._withStripped=!0},function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"host-view"},[a("div",{staticClass:"main-content__title"},[t._v("Host 文件列表")]),t._v(" "),a("div",{staticClass:"project-path-info"},[t._v("只允许一个host文件生效。")]),t._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"addhost-btn-wrap",attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:t.addNewHostFile}},[t._v("新增 Host 文件")])],1)],1),t._v(" "),a("el-table",{attrs:{border:"",align:"center",data:t.$dc.hostFileList}},[a("el-table-column",{attrs:{prop:"name",label:"名字",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:136,context:t._self},scopedSlots:t._u([{key:"default",fn:function(e){return[a("a",{attrs:{href:"#/edithost?name="+e.row.name}},[a("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"mini"}})],1),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.onDeleteFile(e.row,e.$index,t.user_list)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"checked",label:"启用",width:"85"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-radio",{attrs:{label:e.row.name,disabled:!t.$dc.hostState},model:{value:t.selectedFileName,callback:function(e){t.selectedFileName=e},expression:"selectedFileName"}})]}}])})],1)],1)},i=[];n._withStripped=!0},,function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-wraper"},[a("div",{staticClass:"main-content__title"},[t._v("工程路径管理")]),t._v(" "),a("div",{staticClass:"project-path-info"},[t._v("http请求转发到本地文件时可以引用这里的路径。例如：将http请求转发到<%= helloworld %>/dist/hello.js，<%= helloworld %>会被替换为工程名为helloworld对应的路径。")]),t._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[t._l(t.$dc.projectPathArray,function(e,n){return[a("div",{staticClass:"project-path"},[a("div",{staticClass:"left"},[a("el-form-item",{attrs:{label:"工程名"}},[a("el-input",{attrs:{placeholder:"工程名"},model:{value:e.key,callback:function(a){t.$set(e,"key",a)},expression:"obj.key"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"路径"}},[a("el-input",{attrs:{placeholder:"工程在本地的绝对路径"},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"obj.value"}})],1)],1),t._v(" "),a("div",{staticClass:"right"},[a("el-button",{staticClass:"delete-btn",attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(a){t.deleteParam(e,n,t.projectPathArray)}}})],1)])]}),t._v(" "),a("el-form-item",[a("el-button",{on:{click:t.addParam}},[t._v("增加工程路径设置")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.saveFile}},[t._v("保存")])],1)],2)],1)},i=[];n._withStripped=!0},,,,,,,,,,,,,,function(t,e,a){var n=a(264);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("7041dfa2",n,!1)},,function(t,e,a){var n=a(266);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("61c18ef4",n,!1)},function(t,e,a){var n=a(267);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("5cb9ee92",n,!1)},function(t,e,a){var n=a(268);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("0d8dc333",n,!1)},function(t,e,a){var n=a(269);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("087bb882",n,!1)},function(t,e,a){var n=a(270);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("5b4622a6",n,!1)},function(t,e,a){var n=a(271);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("3d76595f",n,!1)},function(t,e,a){var n=a(272);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("3c26ed68",n,!1)},function(t,e,a){var n=a(273);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("0d8dc333",n,!1)},function(t,e,a){var n=a(274);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("2b93fed8",n,!1)},function(t,e,a){var n=a(275);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("bd655600",n,!1)},function(t,e,a){var n=a(276);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("5b4622a6",n,!1)},function(t,e,a){var n=a(277);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(4)("61c18ef4",n,!1)}],[209]);
//# sourceMappingURL=manager.js.map