webpackJsonp([0],{109:function(e,t,a){"use strict";var n=a(11),i=a.n(n);t.a={saveFile:function(e){return i.a.post("/configure/savefile",e)}}},110:function(e,t,a){"use strict";var n=a(11),i=a.n(n);t.a={saveFile:function(e){return i.a.post("/profile/savefile",e)},disableRule:function(){return i.a.post("/profile/setRuleState")},enableRule:function(){return i.a.post("/profile/setRuleState?rulestate=1")},disableHost:function(){return i.a.post("/profile/setHostState")},enableHost:function(){return i.a.post("/profile/setHostState?hoststate=1")},disableFilter:function(){return i.a.post("/profile/setFilterState")},enableFilter:function(){return i.a.post("/profile/setFilterState?filterstate=1")}}},14:function(e,t){},150:function(e,t,a){"use strict";var n=a(1),i=a(393),l=a(333),o=a(334),s=a(342),r=a(341),c=a(340),u=a(346),d=a(345),p=a(344),m=a(337),f=a(335),v=a(339);n.default.use(i.a),t.a=new i.a({routes:[{path:"/configure",component:l.a},{path:"/projectpath",component:o.a},{path:"/hostfilelist",component:s.a},{path:"/edithost",component:r.a},{path:"/createhostfile",component:c.a},{path:"/rulefilelist",component:u.a},{path:"/editrule",component:d.a},{path:"/createrulefile",component:p.a},{path:"/filter",component:m.a},{path:"/datalist",component:f.a},{path:"/helpinstall",component:v.a,alias:"/"}]})},151:function(e,t){},152:function(e,t){},154:function(e,t,a){"use strict";var n=a(77),i=a(369),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/App.vue",t.a=o.exports},197:function(e,t,a){"use strict";var n=a(11),i=a.n(n),l={saveFilters:function(e){return i.a.post("/filter/savefilters",e)}};t.a=l},199:function(e,t,a){"use strict";var n=a(11),i=a.n(n),l={getRemoteRuleFile:function(e){return i.a.get("/utils/getGitlabFile?url="+encodeURIComponent(e))}};t.a=l},202:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),i=a(154),l=a(150),o=a(29),s=a.n(o),r=a(70),c=(a.n(r),a(151)),u=(a.n(c),a(152)),d=(a.n(u),a(28)),p=a.n(d),m=a(14);a.n(m);n.default.use(p.a),n.default.use(s.a),new n.default({el:"#app",router:l.a,render:function(e){return e(i.a)}}),document.addEventListener("keydown",function(e){if((event.ctrlKey||event.metaKey)&&83==event.which)return event.preventDefault(),!1},!0)},250:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.dashed-border {\n    border-top: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},251:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},254:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,"\n.left-menu {\n  z-index: 1;\n  width: 230px;\n  height: 100%;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  position: relative;\n  overflow-x: hidden;\n  background-image: -webkit-gradient(linear, left top, left bottom, from(#3b3e8f), to(#6f73d7));\n  background-image: linear-gradient(#3b3e8f, #6f73d7);\n}\n.left-menu h2 {\n  color: #fff;\n  font-size: 20px;\n  line-height: 72px;\n  padding-left: 22px;\n  font-weight: normal;\n  -webkit-box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  font-family: Dosis, Source Sans Pro, Helvetica Neue, Arial, sans-serif;\n}\n.left-menu .iconfont {\n  width: 28px;\n  display: inline-block;\n}\n.left-menu .icon-bargraph {\n  font-size: 15px;\n}\n.left-menu .icon-set, .left-menu .icon-skip, .left-menu .icon-box {\n  opacity: .8;\n}\n.left-menu .el-menu {\n  background-color: transparent;\n}\n.left-menu .el-submenu__title, .left-menu .el-menu-item {\n  color: #fff;\n  height: 52px;\n  line-height: 52px;\n  border-left: 3px solid transparent;\n}\n.left-menu .el-submenu__title.is-active, .left-menu .el-submenu__title:hover, .left-menu .el-menu-item.is-active, .left-menu .el-menu-item:hover {\n  background-color: #393c89;\n}\n.left-menu .el-submenu__title.is-active, .left-menu .el-menu-item.is-active {\n  border-color: #32e7d7;\n}\n",""])},255:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,"\n.view-configure .el-button {\n    margin-top: 15px;\n    padding: 10px 28px;\n    letter-spacing: 2px;\n}\n",""])},256:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,"\n.install-body {\n  margin: -50px;\n  padding: 50px;\n  font-size: 14px;\n  line-height: 1.8;\n  background-color: #fff;\n}\n.install-body__qrcode {\n  display: block;\n  margin-left: -15px;\n}\n.install-body h1, .install-body h2, .install-body h3, .install-body h4, .install-body h5 {\n  font-weight: 400;\n  margin: 20px 0 10px;\n  color: rgba(51, 51, 51, 0.9);\n}\n.install-body h1 {\n  margin: 0;\n  font-size: 32px;\n  font-family: Dosis, Source Sans Pro, Helvetica Neue, Arial, sans-serif;\n}\n.install-body h2 {\n  color: #333;\n  font-size: 24px;\n  margin-top: 30px;\n}\n.install-body h2:first-of-type {\n  margin-top: 10px;\n}\n.install-body h4 {\n  font-size: 18px;\n}\n.install-body code {\n  margin: 2px;\n  color: #455a64;\n  padding: 2px 7px;\n  font-size: 13px;\n  overflow-x: auto;\n  font-weight: 400;\n  line-height: 22px;\n  border-radius: 3px;\n  margin-bottom: 25px;\n  position: relative;\n  word-break: break-all;\n  white-space: pre-wrap;\n  background-color: #f5f7fa;\n  font-family: Source Code Pro,Monaco,Inconsolata,monospace;\n}\n.install-body ol {\n  padding-left: 20px;\n}\n.install-body a {\n  color: #3498db;\n  text-decoration: none;\n}\n",""])},257:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.dashed-border {\n    border-top: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    margin-bottom: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},259:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,"\n.addhost-btn-wrap {\n  text-align: right;\n}\n",""])},261:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,'\n.inline-block {\n    display: inline-block;\n}\n.conditon {\n    margin-top: 10px;\n}\n.conditon:after {\n    content: "";\n    display: block;\n    border-bottom: 1px dotted #adadad;\n}\n.action {\n    margin-bottom: 10px;\n}\n.left-panel {\n    margin-top: 10px;\n    height: 80px;\n    width: 160px;\n    vertical-align: top;\n    border-right: 1px dotted #c0c0c0;\n}\n.right-panel {\n    width: calc(100% - 170px);\n    height: 80px;\n    padding-left: 10px;\n}\n.action-data {\n    text-align: left;\n    margin-top: 35px;\n}\n.action-option {\n    margin-top: 5px;\n}\n',""])},262:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,"\n.addrule-btn-wrap {\n  text-align: right;\n}\n.importfile {\n  position: absolute;\n  width: 80px;\n  height: 28px;\n  opacity: 0;\n  cursor: pointer;\n}\n.importfile::-webkit-file-upload-button {\n  cursor: pointer;\n}\n",""])},284:function(e,t){},285:function(e,t){},332:function(e,t,a){"use strict";function n(e){s||a(398)}var i=a(78),l=a(368),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/common/LeftMenu.vue",t.a=c.exports},333:function(e,t,a){"use strict";function n(e){s||a(399)}var i=a(79),l=a(373),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/configure/Configure.vue",t.a=c.exports},334:function(e,t,a){"use strict";var n=a(80),i=a(387),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/components/configure/ProjectPath.vue",t.a=o.exports},335:function(e,t,a){"use strict";function n(e){s||a(403)}var i=a(81),l=a(380),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/data/DataList.vue",t.a=c.exports},336:function(e,t,a){"use strict";function n(e){s||a(405)}var i=a(82),l=a(383),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/filter/ActionDetail.vue",t.a=c.exports},337:function(e,t,a){"use strict";var n=a(83),i=a(384),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/components/filter/Filter.vue",t.a=o.exports},338:function(e,t,a){"use strict";function n(e){s||a(401)}var i=a(84),l=a(377),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/filter/RuleDetail.vue",t.a=c.exports},339:function(e,t,a){"use strict";function n(e){s||a(400)}var i=a(85),l=a(376),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/help/Install.vue",t.a=c.exports},34:function(e,t,a){"use strict";var n=a(11),i=a.n(n),l=a(4),o=a.n(l),s={createFile:function(e,t){return i.a.post("/host/create",{name:e,description:t})},getFileList:function(){return i.a.get("/host/filelist")},deleteFile:function(e){return i.a.get("/host/deletefile?name="+e)},useFile:function(e){return i.a.get("/host/usefile?name="+e)},getFileContent:function(e){return i.a.get("/host/getfile?name="+e)},saveFile:function(e,t){return i.a.post("/host/savefile?name="+e,t)}};s.debouncedUseFile=o.a.debounce(function(e,t){s.useFile(e).then(function(e){t(e)})},500),t.a=s},340:function(e,t,a){"use strict";var n=a(86),i=a(362),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/components/host/CreateFile.vue",t.a=o.exports},341:function(e,t,a){"use strict";var n=a(87),i=a(372),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/components/host/EditHost.vue",t.a=o.exports},342:function(e,t,a){"use strict";function n(e){s||a(427)}var i=a(88),l=a(386),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/host/FileList.vue",t.a=c.exports},343:function(e,t,a){"use strict";function n(e){s||a(395)}var i=a(89),l=a(361),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/rule/ActionDetail.vue",t.a=c.exports},344:function(e,t,a){"use strict";var n=a(90),i=a(374),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/components/rule/CreateFile.vue",t.a=o.exports},345:function(e,t,a){"use strict";var n=a(91),i=a(370),l=a(0),o=a.i(l.a)(n.a,i.a,i.b,!1,null,null,null);o.options.__file="src/manager/components/rule/EditRule.vue",t.a=o.exports},346:function(e,t,a){"use strict";function n(e){s||a(406)}var i=a(92),l=a(385),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/rule/FileList.vue",t.a=c.exports},347:function(e,t,a){"use strict";function n(e){s||a(394)}var i=a(93),l=a(360),o=a(0),s=!1,r=n,c=a.i(o.a)(i.a,l.a,l.b,!1,r,null,null);c.options.__file="src/manager/components/rule/RuleDetail.vue",t.a=c.exports},35:function(e,t,a){"use strict";var n=a(112),i=a.n(n),l=a(11),o=a.n(l),s=a(4),r=a.n(s),c={createFile:function(e,t){return o.a.post("/rule/create",{name:e,description:t})},getFileList:function(){return o.a.get("/rule/filelist")},deleteFile:function(e){return o.a.get("/rule/deletefile?name="+e)},setFileCheckStatus:function(e,t){return o.a.get("/rule/setfilecheckstatus?name="+e+"&checked="+(t?1:0))},getFileContent:function(e){return o.a.get("/rule/getfile?name="+e)},saveFile:function(e,t){return o.a.post("/rule/savefile?name="+e,t)},testRule:function(e){return o.a.post("/rule/test",e)},getRemoteRuleFile:function(e){return o.a.get("/utils/getGitlabFile?url="+encodeURIComponent(e))},getReferenceVar:function(e){for(var t,a=i()(e),n=RegExp("<%=(.+?)%>","g"),l={};null!=(t=n.exec(a));)l[r.a.trim(t[1])]=1;return r.a.keys(l)}};c.debouncedSaveFile=r.a.debounce(function(e,t,a){c.saveFile(e,t).then(function(e){a(e)})},3e3),t.a=c},360:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"el-form demo-form-inline el-form--inline conditon"},[a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px"}},[a("label",{staticClass:"el-form-item__label"},[e._v("条件")]),e._v(" "),a("div",{staticClass:"el-form-item__content"},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"请选择",disabled:e.remote},model:{value:e.rule.method,callback:function(t){e.$set(e.rule,"method",t)},expression:"rule.method"}},e._l(e.methodlist,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px",width:"calc(100% - 170px)","padding-left":"20px","margin-right":"0px"}},[a("div",{staticClass:"el-form-item__content",staticStyle:{width:"100%"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",disabled:e.remote,placeholder:"填写要拦截的url中部分连续的字符串，或者匹配要拦截url的正则表达式"},model:{value:e.rule.match,callback:function(t){e.$set(e.rule,"match",t)},expression:"rule.match"}})],1)])]),e._v(" "),a("div",{staticStyle:{padding:"10px 0"}},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("div",[a("el-input",{attrs:{size:"small",placeholder:"规则说明，写一段文字，方便记忆这个规则的作用"},model:{value:e.rule.name,callback:function(t){e.$set(e.rule,"name",t)},expression:"rule.name"}})],1)]),e._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block"}},[a("el-button",{attrs:{type:"text",disabled:e.remote},on:{click:e.addAction}},[e._v("新增动作")])],1)]),e._v(" "),a("div",e._l(e.rule.actionList,function(t,n){return a("div",{key:n,staticClass:"dashed-border"},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("action-detail",{attrs:{action:t,remote:e.remote}})],1),e._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block","vertical-align":"bottom","line-height":"107px",height:"107px"}},[a("el-button",{attrs:{type:"text",disabled:e.remote},on:{click:function(t){e.deleteAction(n)}}},[e._v("删除动作")])],1)])}))])},i=[];n._withStripped=!0},361:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"inline-block left-panel"},[a("el-select",{staticStyle:{"margin-top":"25px","margin-right":"10px","font-size":"12px"},attrs:{placeholder:"请选择",size:"small",disabled:e.remote},model:{value:e.action.type,callback:function(t){e.$set(e.action,"type",t)},expression:"action.type"}},e._l(e.ruleType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),"redirect"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{attrs:{size:"small",disabled:e.remote,placeholder:"填写转发路径(远程地址、或者本地地址。远程地址需要以http/https开头)"},model:{value:e.action.data.target,callback:function(t){e.$set(e.action.data,"target",t)},expression:"action.data.target"}})],1)]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"mockData"==e.action.type,expression:"action.type == 'mockData'"}],staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("span",[a("el-select",{staticStyle:{width:"300px"},attrs:{size:"small",filterable:"",placeholder:"请选择要返回的数据"},model:{value:e.action.data.dataId,callback:function(t){e.$set(e.action.data,"dataId",t)},expression:"action.data.dataId"}},e._l(e.$dc.dataList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),e.datafileEntry?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.editDataFile(e.datafileEntry)}}},[e._v("\n              编辑数据\n            ")])],1):e._e(),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addDataFile}},[e._v("增加自定义数据")])],1)])]),e._v(" "),"addRequestCookie"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:e.remote,placeholder:"cookie key"},model:{value:e.action.data.cookieKey,callback:function(t){e.$set(e.action.data,"cookieKey",t)},expression:"action.data.cookieKey"}}),e._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:e.remote,placeholder:"cookie value"},model:{value:e.action.data.cookieValue,callback:function(t){e.$set(e.action.data,"cookieValue",t)},expression:"action.data.cookieValue"}})],1)]):e._e(),e._v(" "),"modifyResponse"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-select",{staticStyle:{width:"260px"},attrs:{size:"small",placeholder:"请选择修改返回body操作",disabled:e.remote},model:{value:e.action.data.modifyResponseType,callback:function(t){e.$set(e.action.data,"modifyResponseType",t)},expression:"action.data.modifyResponseType"}},e._l(e.modifyResponseType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),"returnDataInJsonpStyle"==e.action.data.modifyResponseType?a("span",[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:e.remote,placeholder:"jsonp callback参数名"},model:{value:e.action.data.callbackName,callback:function(t){e.$set(e.action.data,"callbackName",t)},expression:"action.data.callbackName"}})],1):e._e()],1)]):e._e(),e._v(" "),"addRequestHeader"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:e.remote,placeholder:"header key"},model:{value:e.action.data.headerKey,callback:function(t){e.$set(e.action.data,"headerKey",t)},expression:"action.data.headerKey"}}),e._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:e.remote,placeholder:"header value"},model:{value:e.action.data.headerValue,callback:function(t){e.$set(e.action.data,"headerValue",t)},expression:"action.data.headerValue"}})],1)]):e._e(),e._v(" "),"addResponseHeader"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:e.remote,placeholder:"header key"},model:{value:e.action.data.headerKey,callback:function(t){e.$set(e.action.data,"headerKey",t)},expression:"action.data.headerKey"}}),e._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:e.remote,placeholder:"header value"},model:{value:e.action.data.headerValue,callback:function(t){e.$set(e.action.data,"headerValue",t)},expression:"action.data.headerValue"}})],1)]):e._e(),e._v(" "),"scriptModifyRequest"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.action.data.modifyRequestScript,expression:"action.data.modifyRequestScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:e.action.data.modifyRequestScript},on:{input:function(t){t.target.composing||e.$set(e.action.data,"modifyRequestScript",t.target.value)}}})]):e._e(),e._v(" "),"scriptModifyResponse"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.action.data.modifyResponseScript,expression:"action.data.modifyResponseScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:e.action.data.modifyResponseScript},on:{input:function(t){t.target.composing||e.$set(e.action.data,"modifyResponseScript",t.target.value)}}})]):e._e()])},i=[];n._withStripped=!0},362:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("创建Host文件")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{model:e.createFileForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"文件名字",prop:"name"}},[a("el-input",{model:{value:e.createFileForm.name,callback:function(t){e.$set(e.createFileForm,"name",t)},expression:"createFileForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"文件描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.createFileForm.description,callback:function(t){e.$set(e.createFileForm,"description",t)},expression:"createFileForm.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:e.back}},[e._v("返回")])],1)],1)],1)},i=[];n._withStripped=!0},368:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"left-menu"},[a("h2",[e._v("Zan Proxy")]),e._v(" "),a("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{theme:"dark","default-active":e.defaultActive},on:{select:e.handleSelect}},[e._l(e.menuList,function(t,n){return[a("div",{key:n},[t.children?a("el-submenu",{attrs:{index:n+""}},[a("template",{slot:"title"},[a("i",{staticClass:"iconfont",class:t.icon}),e._v(" "),a("span",{staticClass:"menu-name"},[e._v(e._s(t.name))])]),e._v(" "),e._l(t.children,function(t,i){return a("el-menu-item",{key:i,style:{"padding-left":"40px"},attrs:{index:n+"-"+i}},[a("i",{staticClass:"iconfont",class:t.icon}),e._v(" "),a("span",{staticClass:"menu-name"},[e._v("\n              "+e._s(t.name)+"\n            ")])])})],2):a("el-menu-item",{attrs:{index:n+""}},[a("i",{staticClass:"iconfont",class:t.icon}),e._v(" "),a("span",{staticClass:"menu-name"},[e._v("\n            "+e._s(t.name)+"\n          ")])])],1)]})],2)],1)},i=[];n._withStripped=!0},369:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-wrapper"},[a("header",{staticClass:"head-nav"},[a("el-dropdown",{attrs:{"menu-align":"start","hide-on-click":!1},on:{command:e.selectHostFile}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("\n                Host 切换"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.hostFileList,function(t){return a("el-dropdown-item",{attrs:{command:t.name,disabled:!e.profile.enableHost}},[e._v("\n                    "+e._s(t.name)+"\n                    "),t.checked?a("i",{staticClass:"el-icon-check"}):e._e()])}))],1),e._v(" "),a("span",[a("el-switch",{attrs:{value:e.profile.enableHost,"active-text":"关闭host","inactive-text":"启用host"},on:{input:e.switchHost}})],1),e._v(" "),a("el-dropdown",{attrs:{"hide-on-click":!1,"menu-align":"start"},on:{command:e.selectRuleFile}},[a("el-button",{attrs:{type:"primary",size:"small"}},[e._v("\n                Rule 设置"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(e.ruleFileList,function(t){return a("el-dropdown-item",{attrs:{command:t.name+"-%-"+t.checked,disabled:!e.profile.enableRule}},[e._v("\n                    "+e._s(t.name)+"\n                    "),t.checked?a("i",{staticClass:"el-icon-check"}):e._e()])}))],1),e._v(" "),a("span",[a("el-switch",{attrs:{value:e.profile.enableRule,"active-text":"关闭rule","inactive-text":"启用rule"},on:{input:e.switchRule}})],1),e._v(" "),a("span",[e._v("\n            过滤器开关\n            "),a("el-switch",{attrs:{value:e.profile.enableFilter,"active-text":"关闭filter","inactive-text":"启用filter"},on:{input:e.switchFilter}})],1)],1),e._v(" "),a("div",{staticClass:"left-fixed-right-auto"},[a("div",{staticClass:"left"},[a("left-menu")],1),e._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"main-content"},[a("router-view")],1)])]),e._v(" "),a("el-dialog",{attrs:{title:"新建Mock数据文件"},model:{value:e.addDataFileForm.visible,callback:function(t){e.$set(e.addDataFileForm,"visible",t)},expression:"addDataFileForm.visible"}},[a("el-form",{attrs:{model:e.addDataFileForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{model:{value:e.addDataFileForm.name,callback:function(t){e.$set(e.addDataFileForm,"name",t)},expression:"addDataFileForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"格式"}},[a("el-select",{attrs:{placeholder:"请选择数据文件格式"},model:{value:e.addDataFileForm.contenttype,callback:function(t){e.$set(e.addDataFileForm,"contenttype",t)},expression:"addDataFileForm.contenttype"}},[a("el-option",{attrs:{label:"html",value:"text/html"}}),e._v(" "),a("el-option",{attrs:{label:"json",value:"application/json"}}),e._v(" "),a("el-option",{attrs:{label:"javascript",value:"application/javascript"}})],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addDataFileForm.visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.addDataFile}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{ref:"editDataFileDialog",attrs:{title:"编辑Mock数据文件","close-on-press-escape":!1},model:{value:e.editDataFileForm.visible,callback:function(t){e.$set(e.editDataFileForm,"visible",t)},expression:"editDataFileForm.visible"}},[a("span",{attrs:{slot:"title"},slot:"title"},[e._v("\n            编辑数据文件 "+e._s(e.editDataFileForm.entry.name)+" [Content-Type: "+e._s(e.editDataFileForm.entry.contenttype)+"]\n        ")]),e._v(" "),a("div",{staticStyle:{height:"305px"},attrs:{id:"content-editor-container"}},[a("div",{attrs:{id:"content-editor"}})]),e._v(" "),a("div",[e._v("\n            Press "),a("strong",[e._v("F11")]),e._v(" when cursor is in the editor to\n            toggle full screen editing. "),a("strong",[e._v("Esc")]),e._v(" can also be used\n            to "),a("i",[e._v("exit")]),e._v(" full screen editing.\n        ")]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDataFileForm.visible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{on:{click:e.toggleFullScreen}},[e._v("全屏")]),e._v(" "),a("el-button",{on:{click:e.formatEditor}},[e._v("格式化")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.finishEditDataFile}},[e._v("确 定")])],1)])],1)},i=[];n._withStripped=!0},370:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("编辑规则集"+e._s(e.loaded?": "+e.filecontent.name:""))]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px","text-align":"right"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small",disabled:e.filecontent.meta.remote},on:{click:e.addRule}},[e._v("新增规则")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveFileRightNow}},[e._v("保存规则集")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","row-key":"key",stripe:!0,align:"center",data:e.filecontent.content}},[a("el-table-column",{attrs:{prop:"checked",label:"启用",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后启动这条规则",placement:"left"}},[a("el-checkbox",{model:{value:t.row.checked,callback:function(a){e.$set(t.row,"checked",a)},expression:"scope.row.checked"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"规则设置",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("rule-detail",{attrs:{rule:t.row,remote:e.filecontent.meta.remote}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:100,align:"center",context:e._self},scopedSlots:e._u([{key:"default",fn:function(t){return[e.filecontent.meta.remote?e._e():a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制",placement:"left"}},[a("el-button",{attrs:{icon:"document",size:"mini"},on:{click:function(a){e.onDuplicateRow(t.row,t.$index,e.filecontent.content)}}})],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.onDeleteRow(t.row,t.$index,e.filecontent.content)}}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"left","padding-left":"2px","margin-top":"5px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"测试规则",placement:"left"}},[a("el-button",{attrs:{type:"blue",icon:"search",size:"mini"},on:{click:function(a){e.testMatchRuleRequest(t.row)}}})],1)],1)]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"匹配规则测试(只测试正则匹配，不包含请求方法)",size:"large"},model:{value:e.testMatchRuleFormVisible,callback:function(t){e.testMatchRuleFormVisible=t},expression:"testMatchRuleFormVisible"}},[a("el-form",{attrs:{model:e.testMatchRuleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"请求url"}},[a("el-input",{model:{value:e.testMatchRuleForm.url,callback:function(t){e.$set(e.testMatchRuleForm,"url",t)},expression:"testMatchRuleForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"匹配条件"}},[a("el-input",{model:{value:e.testMatchRuleForm.match,callback:function(t){e.$set(e.testMatchRuleForm,"match",t)},expression:"testMatchRuleForm.match"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"转发路径"}},[a("el-input",{model:{value:e.testMatchRuleForm.targetTpl,callback:function(t){e.$set(e.testMatchRuleForm,"targetTpl",t)},expression:"testMatchRuleForm.targetTpl"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"匹配结果"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.testMatchRuleForm.matchRlt,callback:function(t){e.$set(e.testMatchRuleForm,"matchRlt",t)},expression:"testMatchRuleForm.matchRlt"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"最终目标路径"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.testMatchRuleForm.targetRlt,callback:function(t){e.$set(e.testMatchRuleForm,"targetRlt",t)},expression:"testMatchRuleForm.targetRlt"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"其他信息"}},[a("el-input",{attrs:{type:"textarea",disabled:!0},model:{value:e.testMatchRuleForm.msg,callback:function(t){e.$set(e.testMatchRuleForm,"msg",t)},expression:"testMatchRuleForm.msg"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.testMatchRuleFormVisible=!1}}},[e._v("关 闭")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.testMatchRule}},[e._v("测 试")])],1)],1)],1)},i=[];n._withStripped=!0},372:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("编辑Host文件"+e._s(e.loaded?": "+e.filecontent.name:""))]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:e.addRow}},[e._v("新增Host Entry")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveFile}},[e._v("保存文件")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"",align:"center",data:e.hostarray}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"key",label:"域名",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"value",label:"ip地址",align:"center",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:t.row.value,callback:function(a){e.$set(t.row,"value",a)},expression:"scope.row.value"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:80,align:"center",context:e._self},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.onDeleteRow(t.row,t.$index,e.filecontent.content)}}})]}}])})],1)],1)},i=[];n._withStripped=!0},373:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-configure"},[a("div",{staticClass:"main-content__title"},[e._v("基础配置修改")]),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"代理端口"}},[a("el-input",{attrs:{placeholder:"proxy的代理端口"},model:{value:e.$dc.configure.proxyPort,callback:function(t){e.$set(e.$dc.configure,"proxyPort",t)},expression:"$dc.configure.proxyPort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"超时时间"}},[a("el-input",{attrs:{placeholder:"远程服务器响应超时，proxy会终止请求"},model:{value:e.$dc.configure.requestTimeoutTime,callback:function(t){e.$set(e.$dc.configure,"requestTimeoutTime",t)},expression:"$dc.configure.requestTimeoutTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Gitlab Token"}},[a("el-input",{attrs:{placeholder:"请填写你在 Gitlab 上的 token (proxy 访问 Gitlab 上的文件需要 token)"},model:{value:e.$dc.configure.gitlabToken,callback:function(t){e.$set(e.$dc.configure,"gitlabToken",t)},expression:"$dc.configure.gitlabToken"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.saveFile}},[e._v("保存")])],1)],1)],1)},i=[];n._withStripped=!0},374:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("创建规则集")]),e._v(" "),a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",staticStyle:{margin:"20px",width:"60%","min-width":"600px"},attrs:{model:e.createFileForm,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"规则集名字",prop:"name"}},[a("el-input",{model:{value:e.createFileForm.name,callback:function(t){e.$set(e.createFileForm,"name",t)},expression:"createFileForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"规则集描述",prop:"description"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.createFileForm.description,callback:function(t){e.$set(e.createFileForm,"description",t)},expression:"createFileForm.description"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.back()}}},[e._v("返回")])],1)],1)],1)},i=[];n._withStripped=!0},376:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"install-body"},[a("h1",[e._v("Zan Proxy")]),e._v(" "),a("h2",{attrs:{id:"toc_0"}},[e._v("一、说明")]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),a("h2",{attrs:{id:"toc_1"}},[e._v("二、chrome 插件安装")]),e._v(" "),e._m(2),e._v(" "),a("h4",{attrs:{id:"toc_2"}},[e._v("插件使用说明")]),e._v(" "),e._m(3),e._v(" "),a("h2",{attrs:{id:"toc_3"}},[e._v("三、证书安装")]),e._v(" "),a("h4",{attrs:{id:"toc_4"}},[e._v("1. 为什么需要安装证书")]),e._v(" "),e._m(4),e._v(" "),a("h4",{attrs:{id:"toc_5"}},[e._v("2. 证书下载")]),e._v(" "),a("ol",[a("li",[e._v("mac 系统请"),a("a",{attrs:{href:e.url}},[e._v("点击下载到本地安装")])]),e._v(" "),a("li",[e._v("手机请扫码安装证书"),a("img",{staticClass:"install-body__qrcode",attrs:{src:e.imgUrl}})]),e._v(" "),e._m(5)])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("由于"),a("code",[e._v("zanProxy")]),e._v("默认不修改系统代理设置，所以在 chrome 上使用代理功能时需要依赖第三方 chrome 插件。")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("code",[e._v("zanProxy")]),e._v("依赖 openssl 生成证书，使用 proxy 前请先安装 openssl (版本建议在 0.9.8 以上)。")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("推荐安装 SwitchyOmega "),a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?hl=en-US",target:"_blank"}},[e._v("点击安装代理插件")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ol",[a("li",[e._v("安装完插件后请设置插件代理地址为"),a("code",[e._v("127.0.0.1")]),e._v("，代理协议: http，端口为"),a("code",[e._v("zanProxy")]),e._v("代理端口(默认8001)。")]),e._v(" "),a("li",[e._v("如不清楚如何配置 SwitchyOmega，请参考 "),a("a",{attrs:{href:"/help/chrome/",target:"_blank"}},[e._v("chrome 代理设置指南")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("由于"),a("code",[e._v("zanProxy")]),e._v("需要转发 /mock https 的请求，所以需要本地安装"),a("code",[e._v("ZanMock-proxy")]),e._v("https 证书。")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",[e._v("证书信任请参考"),a("a",{attrs:{href:"/help/cert/",target:"_blank"}},[e._v("如何信任证书")])])}];n._withStripped=!0},377:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"el-form demo-form-inline el-form--inline conditon"},[a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px"}},[a("label",{staticClass:"el-form-item__label"},[e._v("条件")]),e._v(" "),a("div",{staticClass:"el-form-item__content"},[a("el-select",{staticStyle:{width:"100px"},attrs:{size:"small",placeholder:"请选择",disabled:e.remote},model:{value:e.rule.method,callback:function(t){e.$set(e.rule,"method",t)},expression:"rule.method"}},e._l(e.methodlist,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),a("div",{staticClass:"el-form-item",staticStyle:{"margin-bottom":"8px",width:"calc(100% - 170px)","padding-left":"20px","margin-right":"0px"}},[a("div",{staticClass:"el-form-item__content",staticStyle:{width:"100%"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{size:"small",disabled:e.remote,placeholder:"填写要拦截的url中部分连续的字符串，或者匹配要拦截url的正则表达式"},model:{value:e.rule.match,callback:function(t){e.$set(e.rule,"match",t)},expression:"rule.match"}})],1)])]),e._v(" "),a("div",{staticStyle:{padding:"10px 0"}},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("div",[a("el-input",{attrs:{size:"small",placeholder:"规则说明，写一段文字，方便记忆这个规则的作用"},model:{value:e.rule.name,callback:function(t){e.$set(e.rule,"name",t)},expression:"rule.name"}})],1)]),e._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block"}},[a("el-button",{attrs:{type:"text",disabled:e.remote},on:{click:e.addAction}},[e._v("新增动作")])],1)]),e._v(" "),a("div",e._l(e.rule.actionList,function(t,n){return a("div",{key:n,staticClass:"dashed-border"},[a("span",{staticStyle:{width:"85%",display:"inline-block"}},[a("action-filter-detail",{attrs:{action:t,remote:e.remote}})],1),e._v(" "),a("span",{staticStyle:{width:"10%",display:"inline-block","vertical-align":"bottom","line-height":"107px",height:"107px"}},[a("el-button",{attrs:{type:"text",disabled:e.remote},on:{click:function(t){e.deleteAction(n)}}},[e._v("删除动作")])],1)])}))])},i=[];n._withStripped=!0},380:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("自定义数据文件列表")]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"addhost-btn-wrap",attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.$dc.requestAddDataFile()}}},[e._v("新增数据文件")])],1)],1),e._v(" "),a("el-table",{attrs:{border:"",align:"center",data:e.$dc.dataList}},[a("el-table-column",{attrs:{prop:"name",label:"名字",align:"center",width:"300",sortable:!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"contenttype",label:"类型",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:136,align:"center",context:e._self},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"},on:{click:function(a){e.$dc.requestEditDataFile(t.row)}}}),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.$dc.deleteDataFile(t.row,t.$index)}}})]}}])})],1)],1)},i=[];n._withStripped=!0},383:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"text-align":"left"}},[a("div",{staticClass:"inline-block left-panel"},[a("el-select",{staticStyle:{"margin-top":"25px","margin-right":"10px","font-size":"12px"},attrs:{placeholder:"请选择",size:"small",disabled:e.remote},model:{value:e.action.type,callback:function(t){e.$set(e.action,"type",t)},expression:"action.type"}},e._l(e.ruleType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),"redirect"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{attrs:{size:"small",disabled:e.remote,placeholder:"填写转发路径(远程地址、或者本地地址。远程地址需要以http/https开头)"},model:{value:e.action.data.target,callback:function(t){e.$set(e.action.data,"target",t)},expression:"action.data.target"}})],1)]):e._e(),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"mockData"==e.action.type,expression:"action.type == 'mockData'"}],staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("span",[a("el-select",{staticStyle:{width:"300px"},attrs:{size:"small",filterable:"",placeholder:"请选择要返回的数据"},model:{value:e.action.data.dataId,callback:function(t){e.$set(e.action.data,"dataId",t)},expression:"action.data.dataId"}},e._l(e.$dc.dataList,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),e.datafileEntry?a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:function(t){e.editDataFile(e.datafileEntry)}}},[e._v("\n              编辑数据\n            ")])],1):e._e(),e._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.addDataFile}},[e._v("增加自定义数据")])],1)])]),e._v(" "),"addRequestCookie"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:e.remote,placeholder:"cookie key"},model:{value:e.action.data.cookieKey,callback:function(t){e.$set(e.action.data,"cookieKey",t)},expression:"action.data.cookieKey"}}),e._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:e.remote,placeholder:"cookie value"},model:{value:e.action.data.cookieValue,callback:function(t){e.$set(e.action.data,"cookieValue",t)},expression:"action.data.cookieValue"}})],1)]):e._e(),e._v(" "),"modifyResponse"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-select",{staticStyle:{width:"260px"},attrs:{size:"small",placeholder:"请选择修改返回body操作",disabled:e.remote},model:{value:e.action.data.modifyResponseType,callback:function(t){e.$set(e.action.data,"modifyResponseType",t)},expression:"action.data.modifyResponseType"}},e._l(e.modifyResponseType,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),"returnDataInJsonpStyle"==e.action.data.modifyResponseType?a("span",[a("el-input",{staticStyle:{width:"200px"},attrs:{size:"small",disabled:e.remote,placeholder:"jsonp callback参数名"},model:{value:e.action.data.callbackName,callback:function(t){e.$set(e.action.data,"callbackName",t)},expression:"action.data.callbackName"}})],1):e._e()],1)]):e._e(),e._v(" "),"addRequestHeader"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:e.remote,placeholder:"header key"},model:{value:e.action.data.headerKey,callback:function(t){e.$set(e.action.data,"headerKey",t)},expression:"action.data.headerKey"}}),e._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:e.remote,placeholder:"header value"},model:{value:e.action.data.headerValue,callback:function(t){e.$set(e.action.data,"headerValue",t)},expression:"action.data.headerValue"}})],1)]):e._e(),e._v(" "),"addResponseHeader"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("div",{staticClass:"action-data"},[a("el-input",{staticStyle:{display:"inline-block",width:"120px"},attrs:{size:"small",disabled:e.remote,placeholder:"header key"},model:{value:e.action.data.headerKey,callback:function(t){e.$set(e.action.data,"headerKey",t)},expression:"action.data.headerKey"}}),e._v(" "),a("el-input",{staticStyle:{display:"inline-block",width:"300px"},attrs:{size:"small",disabled:e.remote,placeholder:"header value"},model:{value:e.action.data.headerValue,callback:function(t){e.$set(e.action.data,"headerValue",t)},expression:"action.data.headerValue"}})],1)]):e._e(),e._v(" "),"scriptModifyRequest"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.action.data.modifyRequestScript,expression:"action.data.modifyRequestScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:e.action.data.modifyRequestScript},on:{input:function(t){t.target.composing||e.$set(e.action.data,"modifyRequestScript",t.target.value)}}})]):e._e(),e._v(" "),"scriptModifyResponse"==e.action.type?a("div",{staticClass:"inline-block right-panel"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.action.data.modifyResponseScript,expression:"action.data.modifyResponseScript"}],staticStyle:{width:"500px",height:"90px"},domProps:{value:e.action.data.modifyResponseScript},on:{input:function(t){t.target.composing||e.$set(e.action.data,"modifyResponseScript",t.target.value)}}})]):e._e()])},i=[];n._withStripped=!0},384:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("过滤器")]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px","text-align":"right"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:e.addRule}},[e._v("新增过滤器")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveFileRightNow}},[e._v("保存过滤器")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{border:"","row-key":"key",stripe:!0,align:"center",data:e.$dc.filters}},[a("el-table-column",{attrs:{prop:"checked",label:"启用",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"勾选后启动这条规则",placement:"left"}},[a("el-checkbox",{attrs:{disabled:!e.$dc.filterState},model:{value:t.row.checked,callback:function(a){e.$set(t.row,"checked",a)},expression:"scope.row.checked"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"规则设置",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("rule-filter-detail",{attrs:{rule:e.row}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:100,align:"center",context:e._self},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"复制",placement:"left"}},[a("el-button",{attrs:{icon:"document",size:"mini"},on:{click:function(a){e.onDuplicateRow(t.row,t.$index)}}})],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.onDeleteRow(t.row,t.$index)}}})],1)],1)]}}])})],1)],1)},i=[];n._withStripped=!0},385:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("规则集列表")]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"addrule-btn-wrap",attrs:{span:10,offset:14}},[a("input",{staticClass:"importfile",attrs:{type:"file"},on:{change:e.fileUpload}}),e._v(" "),a("el-button",{attrs:{size:"small"}},[e._v("导入规则集")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.importRemoteRule}},[e._v("导入远程规则")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.importRemoteRule}},[e._v("批量导入远程规则")]),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.addRuleCollection}},[e._v("新增规则集")])],1)],1),e._v(" "),a("el-table",{attrs:{border:"",data:e.$dc.ruleFileList}},[a("el-table-column",{attrs:{prop:"name",label:"名字",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n        "+e._s(t.row.name)+"\n        "),t.row.meta.remote?a("el-tag",{attrs:{type:"danger","close-transition":""}},[e._v("远程规则")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:150,context:e._self},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"#/editrule?name="+t.row.name}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"编辑规则",placement:"top-start"}},[a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"}})],1)],1),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"导出规则",placement:"top-start"}},[a("el-button",{attrs:{type:"info",icon:"share",size:"mini"},on:{click:function(a){e.onShareFile(t.row,t.$index)}}})],1),e._v(" "),a("span",[a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.onDeleteFile(t.row,t.$index)}}})],1),e._v(" "),a("span",[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"同步远程文件",placement:"top-start"}},[t.row.meta.remote&&t.row.meta.remoteETag&&t.row.meta.ETag!==t.row.meta.remoteETag?a("el-button",{attrs:{type:"success",icon:"information",size:"mini"},on:{click:function(a){e.onUpdateFile(t.row,t.$index)}}}):e._e()],1)],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checked",label:"启用",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{disabled:!e.$dc.ruleState},on:{change:function(a){e.onSelectionChange(t.row.name,t.row.checked)}},model:{value:t.row.checked,callback:function(a){e.$set(t.row,"checked",a)},expression:"scope.row.checked"}})]}}])})],1)],1)},i=[];n._withStripped=!0},386:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"host-view"},[a("div",{staticClass:"main-content__title"},[e._v("Host 文件列表")]),e._v(" "),a("el-row",{staticStyle:{"margin-bottom":"10px"},attrs:{gutter:20}},[a("el-col",{staticClass:"addhost-btn-wrap",attrs:{span:6,offset:18}},[a("el-button",{attrs:{size:"small"},on:{click:e.addNewHostFile}},[e._v("新增 Host 文件")])],1)],1),e._v(" "),a("el-table",{attrs:{border:"",align:"center",data:e.$dc.hostFileList}},[a("el-table-column",{attrs:{prop:"name",label:"名字",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"描述"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:136,context:e._self},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{attrs:{href:"#/edithost?name="+t.row.name}},[a("el-button",{attrs:{type:"info",icon:"edit",size:"mini"}})],1),e._v(" "),a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.onDeleteFile(t.row,t.$index,e.user_list)}}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"checked",label:"启用",width:"85"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{attrs:{label:t.row.name,disabled:!e.$dc.hostState},model:{value:e.selectedFileName,callback:function(t){e.selectedFileName=t},expression:"selectedFileName"}})]}}])})],1)],1)},i=[];n._withStripped=!0},387:function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"b",function(){return i});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main-content__title"},[e._v("工程路径管理")]),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[e._l(e.$dc.projectPathArray,function(t,n){return[a("el-form-item",{attrs:{label:"工程名"}},[a("el-input",{attrs:{placeholder:"工程名"},model:{value:t.key,callback:function(a){e.$set(t,"key",a)},expression:"obj.key"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"路径"}},[a("el-input",{attrs:{placeholder:"工程在本地的绝对路径"},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"obj.value"}})],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"5px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"danger",icon:"delete",size:"mini"},on:{click:function(a){e.deleteParam(t,n,e.projectPathArray)}}})],1)],1)]}),e._v(" "),a("el-form-item",[a("el-button",{on:{click:e.addParam}},[e._v("增加工程路径设置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.saveFile}},[e._v("保存")])],1)],2)],1)},i=[];n._withStripped=!0},394:function(e,t,a){var n=a(250);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("687c31db",n,!1)},395:function(e,t,a){var n=a(251);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("19251903",n,!1)},398:function(e,t,a){var n=a(254);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("21cd87f2",n,!1)},399:function(e,t,a){var n=a(255);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("75e29b9c",n,!1)},400:function(e,t,a){var n=a(256);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("20126eb2",n,!1)},401:function(e,t,a){var n=a(257);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("0aef0ee7",n,!1)},403:function(e,t,a){var n=a(259);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("015ca02d",n,!1)},405:function(e,t,a){var n=a(261);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("5b2a0a25",n,!1)},406:function(e,t,a){var n=a(262);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("883e4022",n,!1)},426:function(e,t,a){t=e.exports=a(3)(),t.push([e.i,"\n.host-view .addhost-btn-wrap {\n    text-align: right;\n}\n.host-view .el-radio__label {\n    display: none;\n}\n",""])},427:function(e,t,a){var n=a(426);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(5)("b425f466",n,!1)},48:function(e,t,a){"use strict";var n=a(11),i=a.n(n),l=a(33),o=a.n(l);t.a={getDataList:function(){return i.a.get("/data/getdatalist")},saveDataList:function(e){return i.a.post("/data/savedatalist",e)},getDataFile:function(e){return i.a.get("/data/getdatafile?id="+e)},saveDataFile:function(e,t){var a=new FormData;return a.append("content",t),i.a.post("/data/savedatafile?id="+e,a)},saveDataEntryFromTraffic:function(e,t,a){return i.a.post("/data/savedatafromtraffic",{id:o()(),name:t,contenttype:a,reqid:e})}}},77:function(e,t,a){"use strict";var n=a(112),i=a.n(n),l=a(16),o=a.n(l),s=a(15),r=a.n(s),c=a(332),u=a(34),d=a(35),p=(a(109),a(110)),m=a(1),f=a(141),v=a.n(f),h=a(4),b=a.n(h),g=a(48),y=a(33),_=a.n(y),x=a(23),k=a.n(x),F=a(285),w=(a.n(F),a(208)),$=(a.n(w),a(284)),R=(a.n($),a(115)),S=(a.n(R),a(210)),C=(a.n(S),null);m.default.component(c.a.name,c.a),t.a={name:"app",data:function(){return{isDataCenter:!0,configure:{},profile:{projectPath:[],enableRule:!1},projectPathArray:[],mappedClientIps:[],rule:[],hostFileList:[],ruleFileList:[],filters:[],dataList:[],addDataFileForm:{visible:!1,callback:null,id:"",name:"",contenttype:""},editDataFileForm:{visible:!1,entry:{},content:""}}},computed:{ruleState:function(){return this.profile.enableRule||!1},hostState:function(){return this.profile.enableHost||!1},filterState:function(){return this.profile.enableFilter||!1}},methods:{switchHost:function(e){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.profile.enableHost){e.next=5;break}return e.next=3,p.a.disableHost();case 3:e.next=7;break;case 5:return e.next=7,p.a.enableHost();case 7:case"end":return e.stop()}},e,t)}))()},selectHostFile:function(e){var t=this;return r()(o.a.mark(function a(){var n;return o.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:n=e,u.a.debouncedUseFile(n,function(e){var a=e.data;0==a.code?t.$message({type:"success",message:"设置成功!"}):t.$message.error("出错了,请刷新页面，"+a.msg)});case 2:case"end":return a.stop()}},a,t)}))()},switchFilter:function(e){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.profile.enableFilter?p.a.disableFilter():p.a.enableFilter();case 1:case"end":return e.stop()}},e,t)}))()},switchRule:function(e){var t=this;return r()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.profile.enableRule?p.a.disableRule():p.a.enableRule();case 1:case"end":return e.stop()}},e,t)}))()},selectRuleFile:function(e){var t=this,a=e.split("-%-");d.a.setFileCheckStatus(a[0],"false"==a[1]).then(function(e){var a=e.data;0!=a.code&&t.$message.error("出错了，"+a.msg)})},deleteDataFile:function(e,t){var a=this;this.$confirm("此操作将永久删除该数据文件: "+e.name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.dataList.splice(t,1),g.a.saveDataList(a.dataList).then(function(e){var t=e.data;0==t.code?a.$message({type:"success",message:"删除成功!"}):a.$message.error("出错了，"+t.msg)})})},requestAddDataFile:function(e){this.addDataFileForm.callback=e,this.addDataFileForm.visible=!0},addDataFile:function(){var e=this;this.addDataFileForm.visible=!1;var t=_()();this.dataList.push({id:t,name:this.addDataFileForm.name,contenttype:this.addDataFileForm.contenttype}),g.a.saveDataList(this.dataList).then(function(a){var n=a.data;0==n.code?(e.$message({type:"success",message:"新建成功!"}),e.addDataFileForm.name="",e.addDataFileForm.contenttype="",e.addDataFileForm.callback&&e.addDataFileForm.callback(t),e.addDataFileForm.callback=null):e.$message.error("出错了，"+n.msg)})},toggleFullScreen:function(){C.getOption("fullScreen")?v()("#content-editor").parents(".el-dialog").css("transform",""):v()("#content-editor").parents(".el-dialog").css("transform","initial"),C.setOption("fullScreen",!C.getOption("fullScreen")),C.focus()},closeFullScreen:function(){C.getOption("fullScreen")&&(C.setOption("fullScreen",!1),v()("#content-editor").parents(".el-dialog").css("transform",""),C.focus())},formatEditor:function(){try{if(!/json/i.test(this.editDataFileForm.entry.contenttype))return;var e=C.getValue(),t=i()(JSON.parse(e),null,4);C.setValue(t),C.refresh(),C.focus()}catch(e){}},requestEditDataFile:function(e){var t=this;this.editDataFileForm.entry=e,g.a.getDataFile(e.id).then(function(a){var n=a.data;if(0!=n.code)return void t.$message.error("出错了，"+n.msg);t.editDataFileForm.visible=!0,C?(C.setValue(n.data),C.setOption("mode",e.contenttype),t.$nextTick(function(){C.refresh(),C.focus()})):t.$nextTick(function(){window.$=v.a,window.editor=C=new k.a(document.getElementById("content-editor"),{value:n.data,mode:e.contenttype,lineNumbers:!0,matchBrackets:!0,autofocus:!0,extraKeys:{F11:function(e){t.toggleFullScreen()},Esc:function(e){t.closeFullScreen()}}})})})},finishEditDataFile:function(){var e=this,t=this.editDataFileForm.entry;g.a.saveDataFile(t.id,C.getValue()).then(function(t){var a=t.data;0==a.code?(e.$message({type:"success",message:"保存成功!"}),e.editDataFileForm.entry={},e.editDataFileForm.visible=!1,C.setValue("")):e.$message.error("出错了，"+a.msg)})}},created:function(){var e=this;if(window.io){var t=io("/manager");t.on("configure",function(t){e.configure=t}),t.on("profile",function(t){e.profile=t;var a=[];b.a.forEach(t.projectPath,function(e,t){a.push({key:t,value:e})}),e.projectPathArray=a}),t.on("mappedClientIps",function(t){e.mappedClientIps=t}),t.on("hostfilelist",function(t){e.hostFileList=t}),t.on("rulefilelist",function(t){e.ruleFileList=t}),t.on("filters",function(t){e.filters=t}),t.on("datalist",function(t){e.dataList=t})}},mounted:function(){this.$refs.editDataFileDialog.rendered=!0}}},78:function(e,t,a){"use strict";var n=[{name:"使用说明",icon:"icon-search",link:"helpinstall"},{name:"基础配置",icon:"icon-set",link:"configure"},{name:"工程路径配置",icon:"icon-layers",link:"projectpath"},{name:"Host 管理",icon:"icon-box",link:"hostfilelist"},{name:"Http 转发",icon:"icon-skip",link:"rulefilelist"},{name:"Http 过滤器",icon:"icon-beaker",link:"filter"},{name:"自定义 mock 数据",icon:"icon-suoding",link:"datalist"},{name:"请求监控",icon:"icon-bargraph",link:"/monitor.html",targetBlank:!0},{name:"帮助中心",icon:"icon-security",link:"/help/index.html",targetBlank:!0}];t.a={name:"left-menu",data:function(){return{defaultActive:this.getDefaultActive(),menuList:n}},methods:{getDefaultActive:function(){var e=location,t=e.hash,a="";return n.forEach(function(e,n){Array.isArray(e)||-1!==t.indexOf(e.link)&&(a=n+"")}),a},handleSelect:function(e,t){var a={};if(2==t.length){var n=t[1].split("-");a=this.menuList[n[0]].children[n[1]]}else a=this.menuList[parseInt(e)];a.targetBlank?window.open(a.link):this.$router.push(a.link)}}}},79:function(e,t,a){"use strict";var n=a(16),i=a.n(n),l=a(15),o=a.n(l),s=a(109),r=a(67);a.n(r);t.a={name:"configure",methods:{saveFile:function(){var e=this;return o()(i.a.mark(function t(){var a,n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.$dc.configure.requestTimeoutTime=parseInt(e.$dc.configure.requestTimeoutTime),e.$dc.configure.proxyPort=parseInt(e.$dc.configure.proxyPort),t.next=4,s.a.saveFile(e.$dc.configure);case 4:a=t.sent,n=a.data,0==n.code?e.$message({type:"success",message:"保存成功!"}):e.$message.error("出错了，"+n.msg);case 7:case"end":return t.stop()}},t,e)}))()}}}},80:function(e,t,a){"use strict";var n=a(16),i=a.n(n),l=a(15),o=a.n(l),s=a(110),r=a(67),c=a.n(r);t.a={name:"project-path",methods:{deleteParam:function(e,t,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$dc.projectPathArray.splice(t,1)})},saveFile:function(){var e=this;return o()(i.a.mark(function t(){var a,n,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={},c()(e.$dc.projectPathArray,function(e){a[e.key]=e.value}),e.$dc.profile.projectPath=a,t.next=5,s.a.saveFile(e.$dc.profile);case 5:n=t.sent,l=n.data,0==l.code?e.$message({type:"success",message:"保存成功!"}):e.$message.error("出错了，"+l.msg);case 8:case"end":return t.stop()}},t,e)}))()},addParam:function(){this.$dc.projectPathArray.push({key:"",value:""})}}}},81:function(e,t,a){"use strict";var n=a(4);a.n(n);t.a={name:"datalist"}},82:function(e,t,a){"use strict";var n=a(4),i=a.n(n);t.a={name:"action-filter-detail",props:["action","remote"],data:function(){return{ruleType:[{value:"addRequestHeader",label:"增加请求头"},{value:"addResponseHeader",label:"增加响应头"},{value:"addRequestCookie",label:"设置请求cookie"},{value:"scriptModifyRequest",label:"js修改请求内容"},{value:"scriptModifyResponse",label:"js修改响应内容"}],modifyResponseType:[{value:"addTimestampToJsCss",label:"将html中的js、css请求加上时间戳"},{value:"returnDataInJsonpStyle",label:"以JSONP的方式返回数据"},{value:"allowCros",label:"增加跨域头部"},{value:"return404",label:"返回404"}]}},methods:{addDataFile:function(){var e=this;this.$dc.requestAddDataFile(function(t){e.action.data.dataId=t})},editDataFile:function(e){this.$dc.requestEditDataFile(e)}},computed:{datafileEntry:function(){var e=this;if("mockData"==this.action.type){var t=i.a.find(this.$dc.dataList,function(t){return t.id==e.action.data.dataId});return t||(this.action.data.dataId=""),t}}}}},83:function(e,t,a){"use strict";var n=a(16),i=a.n(n),l=a(15),o=a.n(l),s=a(197),r=a(4),c=a.n(r),u=a(33),d=a.n(u),p=a(338);a(1).default.component(p.a.name,p.a),t.a={name:"filters",methods:{onDeleteRow:function(e,t,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.$dc.filters.splice(t,1)})},onDuplicateRow:function(e,t,a){var n=c.a.cloneDeep(this.$dc.filters[t]);this.$dc.filters.splice(t,0,n)},saveFileRightNow:function(){var e=this;return o()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,s.a.saveFilters(e.$dc.filters);case 3:a=t.sent,0==a.code&&e.$message({type:"success",message:"保存成功!"});case 5:case"end":return t.stop()}},t,e)}))()},addRule:function(){this.$dc.filters.unshift({name:"",key:d()(),method:"",match:"",checked:!0,actionList:[{type:"addRequestHeader",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",headerKey:"",headerValue:"",modifyRequestScript:"",modifyResponseScript:""}}]})}}}},84:function(e,t,a){"use strict";var n=a(4),i=(a.n(n),a(1)),l=a(336);i.default.component(l.a.name,l.a),t.a={name:"rule-filter-detail",props:["rule","remote"],data:function(){return{methodlist:[{value:"",label:"所有"},{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"}]}},methods:{editDataFile:function(e){this.$dc.requestEditDataFile(e)},addAction:function(){this.rule.actionList.push({type:"addRequestHeader",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",headerKey:"",headerValue:"",modifyRequestScript:"",modifyResponseScript:""}})},deleteAction:function(e){this.rule.actionList.splice(e,1)}}}},85:function(e,t,a){"use strict";var n=a(321),i=a.n(n);t.a={name:"app",data:function(){var e="http://"+location.hostname+":"+(location.port||80)+"/utils/rootCA.crt";return{url:e,imgUrl:i.a.toDataURL(e,4)}}}},86:function(e,t,a){"use strict";var n=a(34);t.a={name:"app",data:function(){return{createFileForm:{name:"",description:""},rules:{name:[{required:!0,message:"请输入文件名称名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请填文件描述",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.createFile(t.createFileForm.name,t.createFileForm.description).then(function(e){var a=e.data;0==a.code?(t.$message({message:"恭喜你，创建成功",type:"success"}),t.$router.push("edithost?name="+t.createFileForm.name)):t.$message.error("出错了，"+a.msg)})})},back:function(){this.$router.push("hostfilelist")}}}},87:function(e,t,a){"use strict";var n=a(34),i=a(67),l=a.n(i);t.a={name:"app",data:function(){return{loaded:!1,filecontent:{},hostarray:[]}},methods:{getFile:function(){var e=this;this.loaded=!1,n.a.getFileContent(this.$route.query.name).then(function(t){var a=t.data;0==a.code?(e.loaded=!0,e.filecontent=a.data,e.hostarray=[],l()(e.filecontent.content,function(t,a){e.hostarray.push({key:a,value:t})})):e.$message.error("出错了，"+a.msg)})},onDeleteRow:function(e,t,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.hostarray.splice(t,1)})},saveFile:function(){var e=this,t={};l()(this.hostarray,function(e){t[e.key]=e.value}),this.filecontent.content=t,n.a.saveFile(this.$route.query.name,this.filecontent).then(function(t){var a=t.data;0==a.code?e.$message({type:"success",message:"保存成功!"}):e.$message.error("出错了，"+a.msg)})},addRow:function(){this.hostarray.unshift({key:"",value:""})}},mounted:function(){this.getFile()},watch:{$route:function(e,t){this.getFile()}}}},88:function(e,t,a){"use strict";var n=a(34),i=a(4),l=a.n(i);t.a={name:"hostlist",computed:{selectedFileName:{get:function(){var e=l.a.find(this.$dc.hostFileList,function(e){return e.checked});return e?e.name:""},set:function(e){this.$dc.hostFileList.forEach(function(t){t.name!=e?t.checked=!1:t.checked=!0}),this.useFile(e)}}},methods:{onDeleteFile:function(e,t,a){var i=this;this.$confirm("此操作将永久删除该文件: "+e.name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.a.deleteFile(e.name).then(function(e){var t=e.data;0==t.code?i.$message({type:"success",message:"删除成功!"}):i.$message.error("出错了，"+t.msg)})})},useFile:function(e){var t=this;n.a.debouncedUseFile(e,function(e){var a=e.data;0==a.code?t.$message({type:"success",message:"设置成功!"}):t.$message.error("出错了,请刷新页面，"+a.msg)})},addNewHostFile:function(){this.$router.push("createhostfile")}}}},89:function(e,t,a){"use strict";var n=a(4),i=a.n(n);t.a={name:"action-detail",props:["action","remote"],data:function(){return{ruleType:[{value:"redirect",label:"转发请求"},{value:"mockData",label:"返回自定义数据"},{value:"addRequestHeader",label:"增加请求头"},{value:"addResponseHeader",label:"增加响应头"},{value:"modifyResponse",label:"修改响应内容"},{value:"addRequestCookie",label:"设置请求cookie"},{value:"scriptModifyRequest",label:"js修改请求内容"},{value:"scriptModifyResponse",label:"js修改响应内容"}],modifyResponseType:[{value:"addTimestampToJsCss",label:"将html中的js、css请求加上时间戳"},{value:"returnDataInJsonpStyle",label:"以JSONP的方式返回数据"},{value:"allowCros",label:"增加跨域头部"},{value:"return404",label:"返回404"}]}},methods:{addDataFile:function(){var e=this;this.$dc.requestAddDataFile(function(t){e.action.data.dataId=t})},editDataFile:function(e){this.$dc.requestEditDataFile(e)}},computed:{datafileEntry:function(){var e=this;if("mockData"==this.action.type){var t=i.a.find(this.$dc.dataList,function(t){return t.id==e.action.data.dataId});return t||(this.action.data.dataId=""),t}}}}},90:function(e,t,a){"use strict";var n=a(35);t.a={name:"app",data:function(){return{createFileForm:{name:"",checked:!0,description:""},rules:{name:[{required:!0,message:"请输入文件名称名称",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 20 个字符",trigger:"blur"}],description:[{required:!0,message:"请填文件描述",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.a.createFile(t.createFileForm.name,t.createFileForm.description).then(function(e){var a=e.data;0==a.code?(t.$message({message:"恭喜你，创建成功",type:"success"}),t.$router.push("editrule?name="+t.createFileForm.name)):t.$message.error("出错了，"+a.msg)})})},back:function(){this.$router.push("rulefilelist")}}}},91:function(e,t,a){"use strict";var n=a(35),i=a(4),l=a.n(i),o=a(33),s=a.n(o),r=a(347);a(1).default.component(r.a.name,r.a),t.a={name:"edit-rule",data:function(){return{loaded:!1,name:"",filecontent:{meta:{}},testMatchRuleFormVisible:!1,testMatchRuleForm:{url:"",match:"",targetTpl:"",matchRlt:"",targetRlt:"",msg:""}}},methods:{getFile:function(){var e=this;this.loaded=!1,this.name=this.$route.query.name,n.a.getFileContent(this.$route.query.name).then(function(t){var a=t.data;0==a.code?(e.loaded=!0,l.a.forEach(a.data.content,function(e){e.key=e.key||s()()}),e.$dc.dataList.length>0?e.filecontent=a.data:setTimeout(function(){e.filecontent=a.data},1e3)):e.$message.error("出错了，"+a.msg)}).catch(function(t){e.filecontent={meta:{},content:[]}})},onDeleteRow:function(e,t,a){var n=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.filecontent.content.splice(t,1)})},onDuplicateRow:function(e,t,a){var n=l.a.cloneDeep(this.filecontent.content[t]);this.filecontent.content.splice(t,0,n)},saveFileRightNow:function(){this.saveFile(),n.a.debouncedSaveFile.flush()},saveFile:function(e){var t=this;n.a.debouncedSaveFile(this.name,this.filecontent,function(a){var n=a.data;0==n.code?e||t.$message({type:"success",message:"保存成功!"}):t.$message.error("出错了，"+n.msg)})},addRule:function(){this.filecontent.content.unshift({name:"",key:s()(),method:"",match:"",checked:!0,actionList:[{type:"redirect",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",headerKey:"",headerValue:"",modifyRequestScript:"",modifyResponseScript:""}}]})},testMatchRuleRequest:function(e){this.testMatchRuleForm.match=e.match,this.testMatchRuleForm.targetTpl=e.actionList[0]&&e.actionList[0].data.target||"",this.testMatchRuleForm.url="",this.testMatchRuleForm.matchRlt="",this.testMatchRuleForm.targetRlt="",this.testMatchRuleForm.msg="",this.testMatchRuleFormVisible=!0},testMatchRule:function(){var e=this;n.a.testRule(this.testMatchRuleForm).then(function(t){var a=t.data;0==a.code&&(e.testMatchRuleForm.matchRlt=a.data.matchRlt,e.testMatchRuleForm.targetRlt=a.data.targetRlt,e.testMatchRuleForm.msg=a.data.msg)})}},mounted:function(){this.getFile()},watch:{$route:function(e,t){this.getFile()}}}},92:function(e,t,a){"use strict";var n=a(16),i=a.n(n),l=a(15),o=a.n(l),s=a(35),r=a(199),c=a(4),u=a.n(c);t.a={name:"rulefilelist",methods:{onDeleteFile:function(e,t){var a=this;this.$confirm("此操作将永久删除该文件: "+e.name+", 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.a.deleteFile(e.name).then(function(e){var t=e.data;0==t.code?a.$message({type:"success",message:"删除成功!"}):a.$message.error("出错了，"+t.msg)})})},onShareFile:function(e,t){e.meta.remote?this.$alert(e.meta.url,"规则URL",{confirmButtonText:"OK",callback:function(e){}}):window.location="/rule/download?name="+e.name},onUpdateFile:function(e,t){var a=this;this.$confirm("确定更新: "+e.name+" 么?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.a.getRemoteRuleFile(e.meta.url).then(function(t){var n=t.data,i=n.data;i.meta={remote:!0,url:e.meta.url,ETag:n.headers.etag,remoteETag:n.headers.etag},i.name=i.name+"-remote",s.a.saveFile(i.name,i).then(function(e){var t=e.data;0==t.code?a.$message({message:"恭喜你，更新成功",type:"success"}):_this.$message.error("出错了，"+t.msg)})})})},importRemoteRule:function(){var e=this;return o()(i.a.mark(function t(){var a,n,l,o,c,u,d;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$prompt("请输入远程规则文件的url","导入远程规则",{confirmButtonText:"确定",cancelButtonText:"取消"});case 2:return a=t.sent,n=a.value,console.log(n),t.next=7,r.a.getRemoteRuleFile(n);case 7:l=t.sent,o=l.data,c=o.data,c.meta={remote:!0,url:n,ETag:o.headers.etag,remoteETag:o.headers.etag},c.name=c.name+"-remote",u=s.a.getReferenceVar(c),d=void 0,d=u.length>0?"导入规则文件名为"+c.name+",引用变量【"+u.join("; ")+"】请确保变量已经在工程路径配种中设置过":"导入规则文件名为"+c.name,e.$alert(d,"导入远程规则",{confirmButtonText:"确定",callback:function(t){"confirm"==t&&s.a.saveFile(c.name,c).then(function(t){var a=t.data;0==a.code?e.$message({message:"恭喜你，导入成功",type:"success"}):e.$message.error("出错了，"+a.msg)})}});case 16:case"end":return t.stop()}},t,e)}))()},onSelectionChange:function(e,t){var a=this;s.a.setFileCheckStatus(e,t).then(function(e){var t=e.data;0==t.code?a.$message({type:"success",message:"设置成功!"}):a.$message.error("出错了，"+t.msg)})},addRuleCollection:function(){this.$router.push("createrulefile")},fileUpload:function(e){var t=this,a=e.target.files,n=a[0];if(n&&!(n.type.indexOf("json")<0)){var i=new FileReader;i.onload=function(e){var a=e.target.result,n=JSON.parse(a);if(u.a.find(t.fileList,function(e){return e.name==n.name}))return void t.$message.error("已经存在名为"+n.name+"的规则，请修改规则文件里的name字段,以及文件名");var i,l=s.a.getReferenceVar(n);i=l.length>0?"导入规则文件名为"+n.name+",引用变量【"+l.join("; ")+"】请确保变量已经在工程路径配置中设置过值":"导入规则文件名为"+n.name,t.$alert(i,"规则文件导入",{confirmButtonText:"确定",callback:function(e){"confirm"==e&&s.a.saveFile(n.name,n).then(function(e){var a=e.data;0==a.code?t.$message({message:"恭喜你，导入成功",type:"success"}):t.$message.error("出错了，"+a.msg)})}})},i.readAsText(n)}}}}},93:function(e,t,a){"use strict";var n=a(4),i=(a.n(n),a(1)),l=a(343);i.default.component(l.a.name,l.a),t.a={name:"rule-detail",props:["rule","remote"],data:function(){return{methodlist:[{value:"",label:"所有"},{value:"get",label:"GET"},{value:"post",label:"POST"},{value:"put",label:"PUT"},{value:"patch",label:"PATCH"},{value:"delete",label:"DELETE"}]}},methods:{editDataFile:function(e){this.$dc.requestEditDataFile(e)},addAction:function(){this.rule.actionList.push({type:"redirect",data:{target:"",dataId:"",modifyResponseType:"",callbackName:"",cookieKey:"",cookieValue:"",headerKey:"",headerValue:"",modifyRequestScript:"",modifyResponseScript:""}})},deleteAction:function(e){this.rule.actionList.splice(e,1)}}}}},[202]);
//# sourceMappingURL=manager.js.map